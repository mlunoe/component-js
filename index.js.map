{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap 53080134ba512f467b5b","webpack:///./utils/ObjectUtil.js","webpack:///./components/Component/index.js","webpack:///./constants/EventTypes.js","webpack:///./stores/PhotoStore.js","webpack:///./components/Thumbnail/index.js","webpack:///./events/EventEmitter.js","webpack:///./utils/FunctionUtil.js","webpack:///./index.js","webpack:///./index.scss","webpack:///../~/css-loader/lib/css-base.js","webpack:///./index.html","webpack:///../~/style-loader/addStyles.js","webpack:///./index.scss?cc11","webpack:///../~/webpack/buildin/global.js","webpack:///./components/App/App.js","webpack:///./components/Component/Component.js","webpack:///./components/Image/Image.js","webpack:///./components/Image/index.js","webpack:///./components/ImageGrid/ImageGrid.js","webpack:///./components/ImageGrid/index.js","webpack:///./components/ImageViewer/ImageViewer.js","webpack:///./components/ImageViewer/index.js","webpack:///./components/SearchBar/SearchBar.js","webpack:///./components/SearchBar/index.js","webpack:///./components/Thumbnail/Thumbnail.js","webpack:///./utils/KeyboardUtil.js","webpack:///./utils/RequestUtil.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","ObjectUtil","assign","target","TypeError","index","arguments","length","source","key","Component","EventTypes","PHOTO_STORE_PHOTOS_CHANGE","PHOTO_STORE_SINGLE_PHOTO_CHANGE","PHOTO_STORE_SINGLE_PHOTO_ERROR","PhotoStore","baseUrl","transferProperties","restructureProperties","media","prop","tags","split","images","largeImages","create","EventEmitter","fetchPhotos","queryString","query","url","RequestUtil","jsonp","photos","items","map","photo","keys","reduce","memo","indexOf","result","this","emit","bind","fetchLargePhoto","photoID","Date","now","data","stat","message","sizes","size","forEach","label","src","getPhotos","getLargePhoto","Thumbnail","subscriptions","eventName","args","Array","slice","subscribers","handler","apply","addListener","Error","alreadySubscribed","eventHander","push","removeListener","filter","FunctionUtil","debounce","callback","wait","lastUpdate","timeoutID","newUpdate","clearTimeout","setTimeout","App","window","onload","container","document","createElement","render","getElementById","appendChild","list","toString","item","join","mediaQuery","alreadyImportedModules","id","addStylesToDom","styles","options","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","removeStyleElement","parentNode","removeChild","idx","splice","createStyleElement","type","createLinkElement","linkElement","rel","obj","update","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","fn","isOldIE","test","navigator","userAgent","toLowerCase","getElementsByTagName","DEBUG","newList","mayRemove","textStore","replacement","Boolean","content","locals","g","Function","eval","e","imageGrid","ImageGrid","searchBar","SearchBar","lastQuery","componentDidMount","element","props","querySelector","onChange","renderImageGrid","componentWillUnmount","removeChangeListener","imageGridEl","getView","parentElement","componentWillMount","componentWillUpdate","tempNode","innerHTML","newElement","unmount","replaceChild","oldElement","componentDidUpdate","Image","handleImageClick","imageGridElm","event","node","getAttribute","parseInt","isNaN","shouldAnimateIn","selectedImageIndex","renderSelectedImage","handleImageViewerClose","selectedImageElm","undefined","handleImageViewerLeftClick","handleImageViewerRightClick","renderPhotoGrid","newProps","className","selectedChild","imageViewer","backdropClose","onLeftClick","onRightClick","onClose","child","ImageViewer","removeEventListener","addEventListener","noImagesMessage","global","handleImageEvent","keyCodes","KeyboardUtil","keyCode","direction","close","leftArrow","rightArrow","classList","add","esc","renderImage","imageElm","image","title","link","renderError","errorElement","getPhotoID","dataClose","imageViewerBackdropClasses","segments","pop","classes","dataIndex","titleElm","onGoingRequests","callbackName","script","body"],"mappings":"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","file":"./index.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 27);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nvar ObjectUtil = {\n  /**\n   * Polyfill from MDN\n   * Copies values of all enumerable own properties from one or more source\n   * objects to a target object. It will return the target object.\n   * @param  {Object} target the object to copy to\n   * @param  {Object} source(s) the object to copy from\n   * @return {Object} the object with source properties copied to target.\n   */\n  assign: function (target) { // , ...source\n    if (target == null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    target = Object(target);\n    for (var index = 1; index < arguments.length; index++) {\n      var source = arguments[index];\n      if (source != null) {\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n\n    return target;\n  }\n};\n\nmodule.exports = ObjectUtil;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(15);\n\nmodule.exports = Component;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nvar EventTypes = {\n  PHOTO_STORE_PHOTOS_CHANGE: 'PHOTO_STORE_PHOTOS_CHANGE',\n  PHOTO_STORE_SINGLE_PHOTO_CHANGE: 'PHOTO_STORE_SINGLE_PHOTO_CHANGE',\n  PHOTO_STORE_SINGLE_PHOTO_ERROR: 'PHOTO_STORE_SINGLE_PHOTO_ERROR'\n};\n\nmodule.exports = EventTypes;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar EventEmitter = __webpack_require__(5);\nvar EventTypes = __webpack_require__(2);\nvar ObjectUtil = __webpack_require__(0);\nvar RequestUtil = __webpack_require__(26);\n\nfunction PhotoStore() {\n  var baseUrl = 'https://api.flickr.com/services';\n  var transferProperties = [\n    'date_taken', 'published', 'author',\n    'author_id', 'description', 'link', 'title'\n  ];\n  var restructureProperties = {\n    media: function (media) {\n      return {prop: 'src', value: media.m};\n    },\n    tags:  function (tags) {\n      return {prop: 'tags', value: tags.split(' ')};\n    }\n  };\n\n  var images = [];\n  var largeImages = {};\n\n  return ObjectUtil.assign(Object.create(new EventEmitter()), {\n    fetchPhotos: function (queryString) {\n      var query = '';\n      if (queryString) {\n        query = '&tags=' + queryString;\n      }\n      var url = baseUrl + '/feeds/photos_public.gne?' +\n        'format=json' +\n        '&safe_search=3' +\n        query;\n      RequestUtil.jsonp(url, 'jsonFlickrFeed', function (photos) {\n        images = photos.items.map(function (photo) {\n          // Reduce data to the format we want to store\n          return Object.keys(photo).reduce(function (memo, prop) {\n            if (transferProperties.indexOf(prop) > -1) {\n              memo[prop] = photo[prop];\n            }\n\n            if (typeof restructureProperties[prop] === 'function') {\n              var result = restructureProperties[prop](photo[prop]);\n              memo[result.prop] = result.value;\n            }\n\n            return memo;\n          }, {});\n        });\n\n        // Emit change event\n        this.emit(EventTypes.PHOTO_STORE_PHOTOS_CHANGE);\n      }.bind(this));\n    },\n\n    fetchLargePhoto: function (photoID) {\n      if (largeImages[photoID]) {\n        this.emit(EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE, photoID);\n\n        return;\n      }\n\n      var url =  baseUrl + '/rest/?method=flickr.photos.getSizes' +\n        '&api_key=5aa9a623bff2414e17acc8a5a4b894be' +\n        '&photo_id=' + photoID +\n        '&format=json';\n      RequestUtil.jsonp(url, 'jsonFlickrApi' + Date.now(), function (data) {\n        if (data.stat !== 'ok') {\n          this.emit(\n            EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n            photoID,\n            data.message\n          );\n\n          return false;\n        }\n\n        data.sizes.size.forEach(function (photo, index) {\n          // First available size of eiter 'Original' or the last available size\n          if (!largeImages[photoID] && (photo.label.indexOf('Original') > -1 ||\n            (index + 1 === data.sizes.size.length))) {\n            largeImages[photoID] = {src: photo.source};\n          }\n        });\n\n        if (!largeImages[photoID]) {\n          this.emit(\n            EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n            photoID,\n            'Did not find any content when searching for requested image.'\n          );\n\n          return false;\n        }\n\n        this.emit(EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE, photoID);\n      }.bind(this));\n    },\n\n    getPhotos: function () {\n      return images;\n    },\n\n    getLargePhoto: function (photoID) {\n      return largeImages[photoID];\n    }\n  }, EventEmitter);\n}\n\n// Singleton-ish\nmodule.exports = new PhotoStore();\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Thumbnail = __webpack_require__(24);\n\nmodule.exports = Thumbnail;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n/*\n * Example usage:\n *\n * var EventEmitter require('../events/EventEmitter');\n * var ObjectUtil = require('./utils/ObjectUtil');\n *\n * module.exports = function MyEventEmitter() {\n *   // Private scope\n *\n *   return ObjectUtil.assign(Object.create(new EventEmitter()), {\n *     componentDidMount(element) {\n *       // Do something with element after mount\n *       this.emt('change', 'Element mounted');\n *     }\n *   });\n * };\n */\n\nfunction EventEmitter() {\n  var subscriptions = {};\n\n  return {\n    /**\n     * Function to call to notify subscribers of change\n     */\n    emit: function (eventName) {// , ...arg\n      var args = Array.prototype.slice.call(arguments, 1);\n      var subscribers = subscriptions[eventName] || [];\n      subscribers.forEach(function(handler) {\n        handler.apply(this, args);\n      });\n    },\n\n    /**\n     * Subscribe to change fired by implementing component\n     * @param  {Function} hander handler that is called on change\n     */\n    addListener: function (eventName, handler) {\n      if (!eventName) {\n        throw new Error('Subscribers must provide an event to listen to.');\n      }\n\n      if (typeof handler !== 'function') {\n        throw new Error('Event handler must be of type function. Type \"' + typeof handler + '\" was provided for event ' + eventName + '.');\n      }\n\n      if (!subscriptions[eventName]) {\n        // Forst listener, initialize\n        subscriptions[eventName] = [];\n      }\n\n      var alreadySubscribed = false;\n      subscriptions[eventName].forEach(function (eventHander) {\n        if (eventHander === handler) {\n          alreadySubscribed = true;\n        }\n      });\n\n      if (!alreadySubscribed) {\n        subscriptions[eventName].push(handler);\n      }\n    },\n\n    /**\n     * Unsubscribe from change events fired by implementing component\n     * @param  {Function} handler to remove from change events\n     */\n    removeListener: function (eventName, handler) {\n      if (!subscriptions[eventName]) {\n        return;\n      }\n\n      subscriptions[eventName] = subscriptions[eventName]\n        .filter(function (eventHander) {\n          return eventHander !== handler;\n        }\n      );\n    }\n  };\n}\n\nmodule.exports = EventEmitter;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nvar FunctionUtil = {\n  /**\n   * Returns a function, that, as long as it continues to be invoked, will not\n   * be triggered. The function will be called after it stops being called for\n   * N milliseconds. Triggers the function on the trailing edge.\n   * @param  {Function} callback function to call\n   * @param  {Integer} wait Miliseconds to wait for each call\n   * @return {Function} a debounced function that will call callback\n   * when invoked\n   */\n  debounce: function (callback, wait) {\n    var lastUpdate;\n    var timeoutID;\n\n    return function () {\n      var newUpdate = Date.now();\n      if (lastUpdate && lastUpdate - newUpdate < wait) {\n        clearTimeout(timeoutID);\n      }\n      timeoutID = setTimeout(callback.bind(this, arguments), wait);\n      lastUpdate = newUpdate;\n    };\n  }\n};\n\nmodule.exports = FunctionUtil;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(10);\n__webpack_require__(12);\nvar App = __webpack_require__(14);\n\nwindow.onload = function () {\n  var container = document.createElement('div');\n\n  // Mount app\n  new App().render(container);\n  document.getElementById('app').appendChild(container);\n};\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(9)();\n// imports\n\n\n// module\nexports.push([module.i, \".grid{display:flex;flex-wrap:wrap}.grid-item{width:100%}@media (min-width:768px){.grid--fit>.grid-item,.grid-item{flex:1}.grid--full>.grid-item{flex:0 0 100%}.grid--1of2>.grid-item{flex:0 0 50%;width:50%}.grid--1of3>.grid-item{flex:0 0 33.3333%;width:33.3333%}.grid--1of4>.grid-item{flex:0 0 25%;width:25%}}.display-image img{max-height:70vh;max-width:90vw;overflow:auto}.thumbnail{background-color:#fdfcfe;border-radius:4px;border:1px solid #555;box-shadow:1px 1px 5px #000;padding:5px}.thumbnail .fill-image{border-radius:4px;background-position:50%;background-size:cover}.thumbnail .fill-image:before{content:\\\"\\\";display:block;padding-bottom:56.25%}.thumbnail .title{overflow:hidden}.image-viewer-backdrop{align-items:center;background:rgba(0,0,0,.4);display:flex;flex-direction:column;height:100vh;justify-content:center;left:0;opacity:0;position:absolute;top:0;transition:opacity .3s ease;width:100vw}.image-viewer-backdrop.show{opacity:1}.image-viewer{display:flex;flex:0 1 auto;flex-direction:column;flex-grow:0;flex-shrink:0;height:70vh;width:90vw;align-items:center;justify-content:center;opacity:0;transform:translateY(-25%);transition:opacity .3s ease,transform .3s ease}.show .image-viewer{transform:translateY(0);opacity:1}.image-viewer .display-image{overflow:auto}.image-viewer .arrow{color:#fdfcfe;cursor:pointer;height:60px;width:60px}.image-viewer .arrow:hover{color:#ff1493}.image-viewer .arrow:before{border-style:solid;border-width:2px 2px 0 0;content:\\\"\\\";display:inline-block;height:45px;left:15px;position:relative;top:15px;transform:rotate(-45deg);vertical-align:top;width:45px}.image-viewer .arrow.right:before{left:0;margin-left:45px;transform:rotate(45deg)}.image-viewer .arrow.bottom:before{top:0;transform:rotate(135deg)}.image-viewer .arrow.left:before{left:2px;margin-right:45px;transform:rotate(-135deg)}.image-viewer .close-button{position:absolute;cursor:pointer;display:inline-block;height:50px;right:0;top:0;overflow:hidden;width:50px}.image-viewer .close-button:hover:after,.image-viewer .close-button:hover:before{background:#ff1493}.image-viewer .close-button:after,.image-viewer .close-button:before{background:#fdfcfe;content:\\\"\\\";position:absolute;height:2px;width:100%;top:50%;left:0;margin-top:-1px}.image-viewer .close-button:before{transform:rotate(45deg)}.image-viewer .close-button:after{transform:rotate(-45deg)}.image-viewer .close-button.big{transform:scale(3)}.image-grid{flex-grow:1;overflow:auto;padding-left:15px;padding-right:15px}.image-grid .grid-item{cursor:pointer}@keyframes loader{0%{transform:scale(.1);opacity:1}70%{transform:scale(1);opacity:.7}to{opacity:0}}.loader-wrapper{align-items:center;display:flex;height:300px;justify-content:center;width:300px}.loader{position:relative;transform:translateY(-25px)}.loader>div:nth-child(0){animation-delay:-.8s}.loader>div:first-child{animation-delay:-.6s}.loader>div:nth-child(2){animation-delay:-.4s}.loader>div:nth-child(3){animation-delay:-.2s}.loader>div{animation-fill-mode:both;position:absolute;top:-2px;left:-26px;width:50px;height:50px;border-radius:100%;border:2px solid #fff;animation:loader 1.25s 0s infinite cubic-bezier(.21,.53,.56,.8)}.search-bar input.search{margin:15px;border-color:rgba(0,0,0,.2);border-radius:5px;border-width:1px;font-size:16px;height:42px;line-height:16px;padding:10px 12px;width:100%}.search-bar input.search:focus{background:#fdfcfe;border-color:#ff1493;color:#ff1493;outline:0;outline:none}@media (min-width:768px){.search-bar input.search{width:25%}}*{box-sizing:border-box}body{background-color:#333;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;margin:0;overflow:hidden}.app{display:flex;flex-direction:column;height:100vh;width:100vw}.text-white{color:#fdfcfe}.text-align-center{text-align:center}.primary{color:#ff1493}.hidden{display:none!important}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"index.html\";\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(8);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(11)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/postcss-loader/index.js??ref--1-2!./../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/postcss-loader/index.js??ref--1-2!./../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1);\nvar EventTypes = __webpack_require__(2);\nvar FunctionUtil = __webpack_require__(6);\nvar SearchBar = __webpack_require__(23);\nvar ImageGrid = __webpack_require__(19);\nvar ObjectUtil = __webpack_require__(0);\nvar PhotoStore = __webpack_require__(3);\nvar Thumbnail = __webpack_require__(4);\n\nfunction App() {\n  var imageGrid = new ImageGrid();\n  var searchBar = new SearchBar();\n  var lastQuery = '';\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function (element, props) {\n      // Fetch new photos on input change\n      searchBar.render(element.querySelector('.search-bar'), {\n        onChange: function () {\n          // Don't re-fetch unless we have a new query\n          if (lastQuery !== this.value) {\n            PhotoStore.fetchPhotos(this.value);\n            lastQuery = this.value;\n          }\n        }\n      });\n\n      // Pass necessary properties to handlers\n      this.renderImageGrid = this.renderImageGrid.bind(\n        this,\n        element.querySelector('.image-grid')\n      );\n      // Re-render image grid when new photos are received\n      PhotoStore.addListener(\n        EventTypes.PHOTO_STORE_PHOTOS_CHANGE,\n        this.renderImageGrid\n      );\n      // Fetch photos on intial render\n      PhotoStore.fetchPhotos(lastQuery);\n    },\n\n    componentWillUnmount: function () {\n      // Never actually called,\n      // but always good practise to clean up after our selves\n      imageGrid.removeChangeListener(\n        EventTypes.PHOTO_STORE_PHOTOS_CHANGE,\n        this.renderImageGrid\n      );\n      PhotoStore.removeChangeListener(\n        EventTypes.PHOTO_STORE_PHOTOS_CHANGE,\n        this.renderImageGrid\n      );\n    },\n\n    /* View functions */\n    renderImageGrid: function (imageGridEl) {\n      imageGrid.render(imageGridEl);\n    },\n\n    getView: function () {\n      return (\n        '<div class=\"app\">' +\n          '<div class=\"search-bar\"></div>' +\n          '<div class=\"image-grid\"></div>' +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = App;\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n * Example usage:\n *\n * var Component = require('../Component');\n * var ObjectUtil = require('./utils/ObjectUtil');\n *\n * module.exports = function MyComponent() {\n *   // Private scope\n *\n *   return ObjectUtil.assign(Object.create(new Component()), {\n *     componentWillMount(props) {\n *       // Do something with props before mount\n *     },\n *\n *     componentDidMount(element, props) {\n *       // Do something with element and props after mount\n *     },\n *\n *     componentWillUpdate(element, props) {\n *       // Do something with element and props before update\n *     },\n *\n *     componentDidUpdate(element, props) {\n *       // Do something with element and props on update\n *     },\n *\n *     componentWillUnmount(element, props) {\n *       // Clean up component with element and props\n *     },\n *\n *     getView(props) {\n *       // Return string of component view\n *       return (\n *         '<div>' +\n *           'Example DIV' +\n *         '</div>'\n *       );\n *     }\n *   });\n * };\n */\n\nfunction Component() {\n  // Private scope\n  var element = null;\n\n  return {\n    // Public API\n    /**\n     * Function to call when component should render into parent node\n     * Calls componentWillMount when node will be mounted\n     * Calls componentDidMount when node has mounted\n     * Calls componentWillUpdate when node will be updated\n     * Calls componentDidUpdate when node was updated\n     * @param {DOM Node} parentElement to render component within\n     * @param {Object} properties passed from render caller\n     */\n    render: function (parentElement, props) {\n      // Separate if-statement so Webpack knows to remove in production\n      if (false) {\n        if (!parentElement) {\n          throw new Error('Parent of type: `' + typeof parentElement + '` is not valid. Please call `render` with a valid `HTMLElement`.');\n        }\n      }\n\n      // Call will mount\n      if (element == null && typeof this.componentWillMount === 'function') {\n        this.componentWillMount(props);\n      }\n\n      // Call will update\n      if (element != null && typeof this.componentWillUpdate === 'function') {\n        this.componentWillUpdate(element, props);\n      }\n\n      // Create temporary node to set innerHTML in\n      var tempNode = document.createElement('div');\n      tempNode.innerHTML = this.getView(props);\n      // Get the first child of temporary node, i.e. our view and\n      // store our new instance, and this before we get the view\n      var newElement = tempNode.firstChild;\n\n      // Rendering into new parent, unmount this element, so we can create a new\n      if (element != null && parentElement !== element.parentNode) {\n        this.unmount(element, props);\n      }\n      // Make sure that element is actually a child node of parent\n      // before we attempt to replace\n      if (element != null && parentElement === element.parentNode) {\n        // Handle consecutive renders\n        /*\n         * Replace this line with:\n         * `dd.apply(element, dd.diff(element, element));`\n         * from https://github.com/fiduswriter/diffDOM to create a mini version\n         * of React\n         */\n        parentElement.replaceChild(newElement, element);\n      }\n\n      if (element == null) {\n        // Handle first render\n        parentElement.appendChild(newElement);\n      }\n      // Store reference to element to be removed\n      var oldElement = element;\n      element = newElement;\n\n      // Call did mount\n      if (oldElement == null && typeof this.componentDidMount === 'function') {\n        this.componentDidMount(element, props);\n      }\n\n      // Call did update\n      if (oldElement != null && typeof this.componentDidUpdate === 'function') {\n        this.componentDidUpdate(element, props);\n      }\n    },\n\n    /**\n     * Unmounts element from its parent, if it has a parent. Calls\n     * componentWillUnmount if defined on object.\n     */\n    unmount: function (props) {\n      // Component was already unmounted\n      if (element == null) {\n        return;\n      }\n\n      if (typeof this.componentWillUnmount === 'function') {\n        this.componentWillUnmount(element, props);\n      }\n\n      // Check if child still has a parent node before attempting to remove\n      if (element && element.parentNode) {\n        element.parentNode.removeChild(element);\n      }\n\n      // Reset reference\n      element = null;\n    },\n\n    /**\n     * Produces view declaration in the form of a string\n     * @param  {Object} props properties passed to Component in `render`\n     * @return {String} view declaration to render in DOM\n     */\n    getView: function (props) {\n      // Separate if-statement so Webpack knows to remove in production\n      if (false) {\n        throw new Error(typeof this + ' does not implement `getView`, but extends from Component. All objects that extends Component must implement `getView`');\n      }\n\n      return '';\n    }\n  };\n}\n\nmodule.exports = Component;\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1);\nvar ObjectUtil = __webpack_require__(0);\n\nfunction Image() {\n  return ObjectUtil.assign(Object.create(new Component()), {\n    getView: function (props) {\n      var src = props.src;\n      if (!src) {\n        return '';\n      }\n\n      return (\n        '<img src=\"' + src + '\" />'\n      );\n    }\n  });\n}\n\nmodule.exports = Image;\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Image = __webpack_require__(16);\n\nmodule.exports = Image;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1);\nvar EventEmitter = __webpack_require__(5);\nvar EventTypes = __webpack_require__(2);\nvar ImageViewer = __webpack_require__(21);\nvar ObjectUtil = __webpack_require__(0);\nvar PhotoStore = __webpack_require__(3);\nvar Thumbnail = __webpack_require__(4);\n\nfunction ImageGrid() {\n  var imageViewer = new ImageViewer();\n  var shouldAnimateIn = true;\n  var selectedImageIndex;\n\n  /* Event handlers */\n  function handleImageClick(imageGridElm, props, event) {\n    var node = event.target;\n    // Walk up dom tree to first element from event.target with `data-index`,\n    // stop if we reach the image grid node\n    while (node.getAttribute('data-index') == null && node !== imageGridElm) {\n      node = node.parentNode;\n    }\n    var index = parseInt(node.getAttribute('data-index'), 10);\n    if (!isNaN(index)) {\n      shouldAnimateIn = true;\n      selectedImageIndex = index;\n      renderSelectedImage(imageGridElm.nextSibling, props);\n    }\n  }\n\n  function handleImageViewerClose(selectedImageElm, props) {\n    shouldAnimateIn = true;\n    selectedImageIndex = undefined;\n    renderSelectedImage(selectedImageElm, props);\n  }\n\n  function handleImageViewerLeftClick(selectedImageElm, props, event) {\n    var photos = PhotoStore.getPhotos();\n    // Should do nothing if there are no photos\n    if (!photos) {\n      return;\n    }\n\n    if (--selectedImageIndex < 0) {\n      selectedImageIndex = photos.length - 1;\n    }\n\n    shouldAnimateIn = false;\n    renderSelectedImage(selectedImageElm, props);\n  }\n\n  function handleImageViewerRightClick(selectedImageElm, props, event) {\n    var photos = PhotoStore.getPhotos();\n    // Should do nothing if there are no photos\n    if (!photos) {\n      return;\n    }\n\n    // Add before the modulus operator and use modulus as a circular buffer\n    selectedImageIndex = ++selectedImageIndex % photos.length;\n    shouldAnimateIn = false;\n    renderSelectedImage(selectedImageElm, props);\n  }\n\n  /* View functions */\n  function renderPhotoGrid(imageGridElm, props) {\n    PhotoStore.getPhotos().forEach(function (props, index) {\n      var newProps = ObjectUtil.assign({}, props);\n      newProps.index = index;\n      newProps.className = 'grid-item';\n      new Thumbnail().render(imageGridElm, newProps);\n    });\n  }\n\n  function renderSelectedImage(selectedImageElm, props) {\n    var photos = PhotoStore.getPhotos();\n    if (!photos.length) {\n      return;\n    }\n\n    var selectedChild = photos[selectedImageIndex];\n    if (!selectedChild) {\n      imageViewer.unmount(props);\n\n      return;\n    }\n    imageViewer.render(selectedImageElm, {\n      backdropClose: true,\n      onLeftClick: this.handleImageViewerLeftClick,\n      onRightClick: this.handleImageViewerRightClick,\n      onClose: this.handleImageViewerClose,\n      child: selectedChild,\n      shouldAnimateIn: shouldAnimateIn\n    });\n  }\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function () {\n      this.componentDidUpdate.apply(this, arguments);\n    },\n\n    componentWillUpdate: function (element, props) {\n      // Clean up element listeners\n      var imageGridElm = element.querySelector('.grid');\n      imageGridElm.removeEventListener('click', this.handleImageClick, false);\n    },\n\n    componentDidUpdate: function (element, props) {\n      var selectedImageElm = element.querySelector('.selected-image');\n      var imageGridElm = element.querySelector('.grid');\n\n      // Pass down necessary props to handler\n      this.handleImageClick = handleImageClick.bind(this, imageGridElm, props);\n      this.handleImageViewerLeftClick = handleImageViewerLeftClick.bind(\n        this,\n        selectedImageElm,\n        props\n      );\n      this.handleImageViewerRightClick = handleImageViewerRightClick.bind(\n        this,\n        selectedImageElm,\n        props\n      );\n      this.handleImageViewerClose = handleImageViewerClose.bind(\n        this,\n        selectedImageElm,\n        props\n      );\n\n      // Re-attach element click listener to grid, to only listen\n      // for clicks within its children, and not, e.g. image viewer\n      imageGridElm.addEventListener('click', this.handleImageClick, false);\n      renderPhotoGrid(imageGridElm, props);\n    },\n\n    componentWillUnmount: function (element) {\n      // Clean up element listeners\n      var imageGridElm = element.querySelector('.grid');\n      imageGridElm.removeEventListener('click', this.handleImageClick, false);\n    },\n\n    getView: function () {\n      var noImagesMessage = '';\n      if (!PhotoStore.getPhotos().length) {\n        noImagesMessage = (\n          '<p class=\"text-align-center primary\">' +\n            'Sorry, no images was found from that search. ' +\n            'Please try another search.' +\n          '</p>'\n        );\n      }\n\n      return (\n        '<div>' +\n          noImagesMessage +\n          '<div class=\"grid grid--1of4\"></div>' +\n          '<div class=\"selected-image\"></div>' +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = ImageGrid;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ImageGrid = __webpack_require__(18);\n\nmodule.exports = ImageGrid;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var Component = __webpack_require__(1);\nvar Image = __webpack_require__(17);\nvar EventTypes = __webpack_require__(2);\nvar PhotoStore = __webpack_require__(3);\nvar KeyboardUtil = __webpack_require__(25);\nvar ObjectUtil = __webpack_require__(0);\n\nvar getPhotoID = function (link) {\n  var segments = link.split('/');\n  var id = segments.pop()\n  while (!id) {\n    id = segments.pop();\n  }\n\n  return id;\n};\n\nfunction ImageViewer() {\n  var image = new Image();\n  var photoID;\n  var imageProps;\n\n  /* Event handlers */\n  function handleImageEvent(element, props, event) {\n    var keyCodes = KeyboardUtil.keyCodes;\n    var keyCode = event.keyCode;\n    var direction = event.target.getAttribute('data-direction');\n    var close = event.target.getAttribute('data-close');\n    var onLeftClick = props.onLeftClick;\n    var onRightClick = props.onRightClick;\n    var onClose = props.onClose;\n\n    // Handle change image left\n    if (typeof onLeftClick === 'function' && direction === 'left' ||\n      keyCode === keyCodes.leftArrow) {\n      onLeftClick(event);\n    }\n\n    // Handle change image right\n    if (typeof onRightClick === 'function' && direction === 'right' ||\n      keyCode === keyCodes.rightArrow) {\n      onRightClick(event);\n    }\n\n    if (direction === 'left' || keyCode === keyCodes.leftArrow ||\n      direction === 'right' || keyCode === keyCodes.rightArrow) {\n      // Hide error message and display image\n      element.querySelector('.error-message').classList.remove('hidden');\n      element.querySelector('.display-image').classList.add('hidden');\n      // Show loader\n      element.querySelector('.loader-wrapper').classList.remove('hidden');\n    }\n\n    // Handle close viewer\n    if (close === 'true' || keyCode === keyCodes.esc) {\n      // Remove class to animate. Call close when animation is done\n      element.classList.remove('show');\n      setTimeout(function () {\n        onClose(event);\n      }, 200);\n    }\n  }\n\n  /* View functions */\n  function renderImage(element, props, id) {\n    var child = props.child;\n    if (photoID !== id) {\n      return;\n    }\n    var photo = PhotoStore.getLargePhoto(photoID);\n    if (!photo || !photo.src) {\n      return;\n    }\n\n    element.querySelector('.loader-wrapper').classList.add('hidden');\n    var imageElm = element.querySelector('.display-image');\n    imageElm.classList.remove('hidden');\n\n    image.render(imageElm, {\n      src: photo.src,\n      // Transfer other information\n      title: child.title,\n      link: child.link\n    });\n  }\n\n  function renderError(element, id, message) {\n    if (photoID !== id) {\n      return;\n    }\n\n    element.querySelector('.loader-wrapper').classList.add('hidden');\n    var errorElement = element.querySelector('.error-message');\n    errorElement.classList.remove('hidden');\n    errorElement.innerHTML = message || 'Image request error';\n  }\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function (element, props) {\n      this.componentDidUpdate.apply(this, arguments);\n      // Set global listeners\n      global.addEventListener('keydown', this.handleImageEvent, false);\n    },\n\n    componentWillUpdate: function (element) {\n      // Clean up element listeners\n      element.removeEventListener('click', this.handleImageEvent, false);\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE,\n        this.renderImage\n      );\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n        this.renderError\n      );\n    },\n\n    componentDidUpdate: function (element, props) {\n      photoID = getPhotoID(props.child.link);\n      // Pass down necessary props\n      this.handleImageEvent = handleImageEvent.bind(this, element, props);\n      this.renderImage = renderImage.bind(this, element, props);\n      this.renderError = renderError.bind(this, element);\n\n      // Add show class in next render cycle to animate in\n      if (props.shouldAnimateIn) {\n        if (element) {\n          setTimeout(function () {\n            element.classList.add('show');\n          }, 100);\n        }\n      }\n\n      // Re-attach element listeners\n      element.addEventListener('click', this.handleImageEvent, false);\n      PhotoStore.addListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE,\n        this.renderImage\n      );\n      PhotoStore.addListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n        this.renderError\n      );\n\n      // Fetch large photo\n      PhotoStore.fetchLargePhoto(photoID);\n    },\n\n    componentWillUnmount: function (element) {\n      // Clean up global listeners\n      global.removeEventListener('keydown', this.handleImageEvent, false);\n      // Clean up element listeners\n      element.removeEventListener('click', this.handleImageEvent, false);\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE,\n        this.renderImage\n      );\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n        this.renderError\n      );\n    },\n\n    getView: function (props) {\n      var backdropClose = props.backdropClose;\n      var child = props.child;\n      var shouldAnimateIn = props.shouldAnimateIn;\n\n      var dataClose = '';\n      if (backdropClose) {\n        dataClose = 'data-close=\"true\"';\n      }\n\n      var imageViewerBackdropClasses = 'image-viewer-backdrop';\n      if (!shouldAnimateIn) {\n        imageViewerBackdropClasses += ' show';\n      }\n\n      var title = '';\n      if (child && child.title) {\n        title = (\n          '<p class=\"title text-white text-align-center\">' +\n            child.title +\n          '<p/>'\n        );\n      }\n\n      return (\n        '<div ' + dataClose + ' class=\"' + imageViewerBackdropClasses +'\">' +\n          '<div class=\"image-viewer\">' +\n            '<span data-close=\"true\" class=\"close-button\"></span>' +\n            '<div class=\"loader-wrapper\">' +\n              '<div class=\"loader\">' +\n                '<div></div>' +\n                '<div></div>' +\n                '<div></div>' +\n              '</div>' +\n            '</div>' +\n            '<p class=\"error-message primary hidden\"></p>' +\n            '<div class=\"display-image hidden\"></div>' +\n            title +\n            '<div class=\"arrow-container\">' +\n              '<span data-direction=\"left\" class=\"arrow left\"></span>' +\n              '<span data-direction=\"right\" class=\"arrow right\"></span>' +\n            '</div>' +\n          '</div>' +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = ImageViewer;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(13)))\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ImageViewer = __webpack_require__(20);\n\nmodule.exports = ImageViewer;\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1);\nvar FunctionUtil = __webpack_require__(6);\nvar ObjectUtil = __webpack_require__(0);\n\nfunction SearchBar() {\n  var onChange;\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function () {\n      this.componentDidUpdate.apply(this, arguments);\n    },\n\n    componentDidUpdate: function (element) {\n      // Clean up element listeners\n      element.removeEventListener('input', onChange, false);\n    },\n\n    componentDidUpdate: function (element, props) {\n      // Default to 100 miliseconds. A good time for responsive behaviour\n      var wait = props.wait || 100;\n      // Debounce requests on input, so we only request when typing stops\n      onChange = FunctionUtil.debounce(props.onChange, 100);\n      // Set element listers on input change\n      element.addEventListener('input', onChange, false);\n    },\n\n    componentWillUnmount: function (element) {\n      // Clean up element listeners\n      element.removeEventListener('input', onChange, false);\n    },\n\n    /* View functions */\n    getView: function (props) {\n      if (typeof props.onChange !== 'function') {\n        throw new Error(\n          'SearchBar needs onChange as a function. Type \"' +\n          typeof props.onChange +\n          '\" was given.'\n        );\n      }\n\n      return (\n        '<input placeholder=\"search\" autofocus=\"true\" class=\"search\" />'\n      );\n    }\n  });\n}\n\nmodule.exports = SearchBar;\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar SearchBar = __webpack_require__(22);\n\nmodule.exports = SearchBar;\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1);\nvar ObjectUtil = __webpack_require__(0);\n\nfunction Thumbnail() {\n  return ObjectUtil.assign(Object.create(new Component()), {\n    getView: function (props) {\n      var className = props.className;\n      var index = props.index;\n      var src = props.src;\n      var title = props.title;\n\n      if (!src) {\n        return '';\n      }\n      var classes = 'thumbnail';\n      if (className) {\n        classes += ' ' + className;\n      }\n\n      var dataIndex = '';\n      if (index != null) {\n        dataIndex = 'data-index=\"' + index + '\" '\n      }\n\n      var titleElm = '';\n      if (title) {\n        titleElm = '<p class=\"title\">' + title + '</p>';\n      }\n\n      return (\n        '<div class=\"' + classes + '\"' + dataIndex + '>' +\n          '<div ' +\n            'class=\"fill-image\" ' +\n            'data-src=\"' + src + '\" ' +\n            'style=\"background-image: url(' + src + ')\">' +\n          '</div>' +\n          titleElm +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = Thumbnail;\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\nvar KeyboardUtil = {\n  keyCodes: {\n    esc: 27,\n    leftArrow: 37,\n    rightArrow: 39\n  }\n};\n\nmodule.exports = KeyboardUtil;\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\nvar onGoingRequests = {};\nvar RequestUtil = {\n  /**\n   * Makes a request by adding a script tag to the body element with the src\n   * attribute as the request url\n   * @param  {String} url to request\n   * @param  {String} callbackName name of callback\n   * @param  {Function} callback to be called when request returns\n   */\n  jsonp: function (url, callbackName, callback) {\n    var script = document.createElement('script');\n    script.setAttribute('src', url + '&jsoncallback=' + callbackName);\n    // Clean up after script\n    script.onload = function () {\n      document.body.removeChild(script);\n    }\n\n    window[callbackName] = function (data) {\n      onGoingRequests[callbackName]--;\n      if (onGoingRequests[callbackName] === 0) {\n        delete onGoingRequests[callbackName];\n      }\n      // Clean up after callback, if we are the last call waiting\n      if (onGoingRequests === 0) {\n        delete window[callbackName];\n      }\n      callback(data);\n    };\n\n    // TODO: Should really clear ongoing requests as we are firing a new one to\n    // override it. This will be fixed by not using jsonp\n    if (onGoingRequests[callbackName] === undefined) {\n      onGoingRequests[callbackName] = 0;\n    }\n\n    onGoingRequests[callbackName]++;\n    document.body.appendChild(script);\n  }\n};\n\nmodule.exports = RequestUtil;\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(7);\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 27);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 53080134ba512f467b5b","var ObjectUtil = {\n  /**\n   * Polyfill from MDN\n   * Copies values of all enumerable own properties from one or more source\n   * objects to a target object. It will return the target object.\n   * @param  {Object} target the object to copy to\n   * @param  {Object} source(s) the object to copy from\n   * @return {Object} the object with source properties copied to target.\n   */\n  assign: function (target) { // , ...source\n    if (target == null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    target = Object(target);\n    for (var index = 1; index < arguments.length; index++) {\n      var source = arguments[index];\n      if (source != null) {\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n\n    return target;\n  }\n};\n\nmodule.exports = ObjectUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/ObjectUtil.js\n// module id = 0\n// module chunks = 0","var Component = require('./Component');\n\nmodule.exports = Component;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Component/index.js\n// module id = 1\n// module chunks = 0","var EventTypes = {\n  PHOTO_STORE_PHOTOS_CHANGE: 'PHOTO_STORE_PHOTOS_CHANGE',\n  PHOTO_STORE_SINGLE_PHOTO_CHANGE: 'PHOTO_STORE_SINGLE_PHOTO_CHANGE',\n  PHOTO_STORE_SINGLE_PHOTO_ERROR: 'PHOTO_STORE_SINGLE_PHOTO_ERROR'\n};\n\nmodule.exports = EventTypes;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./constants/EventTypes.js\n// module id = 2\n// module chunks = 0","var EventEmitter = require('../events/EventEmitter');\nvar EventTypes = require('../constants/EventTypes');\nvar ObjectUtil = require('../utils/ObjectUtil');\nvar RequestUtil = require('../utils/RequestUtil');\n\nfunction PhotoStore() {\n  var baseUrl = 'https://api.flickr.com/services';\n  var transferProperties = [\n    'date_taken', 'published', 'author',\n    'author_id', 'description', 'link', 'title'\n  ];\n  var restructureProperties = {\n    media: function (media) {\n      return {prop: 'src', value: media.m};\n    },\n    tags:  function (tags) {\n      return {prop: 'tags', value: tags.split(' ')};\n    }\n  };\n\n  var images = [];\n  var largeImages = {};\n\n  return ObjectUtil.assign(Object.create(new EventEmitter()), {\n    fetchPhotos: function (queryString) {\n      var query = '';\n      if (queryString) {\n        query = '&tags=' + queryString;\n      }\n      var url = baseUrl + '/feeds/photos_public.gne?' +\n        'format=json' +\n        '&safe_search=3' +\n        query;\n      RequestUtil.jsonp(url, 'jsonFlickrFeed', function (photos) {\n        images = photos.items.map(function (photo) {\n          // Reduce data to the format we want to store\n          return Object.keys(photo).reduce(function (memo, prop) {\n            if (transferProperties.indexOf(prop) > -1) {\n              memo[prop] = photo[prop];\n            }\n\n            if (typeof restructureProperties[prop] === 'function') {\n              var result = restructureProperties[prop](photo[prop]);\n              memo[result.prop] = result.value;\n            }\n\n            return memo;\n          }, {});\n        });\n\n        // Emit change event\n        this.emit(EventTypes.PHOTO_STORE_PHOTOS_CHANGE);\n      }.bind(this));\n    },\n\n    fetchLargePhoto: function (photoID) {\n      if (largeImages[photoID]) {\n        this.emit(EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE, photoID);\n\n        return;\n      }\n\n      var url =  baseUrl + '/rest/?method=flickr.photos.getSizes' +\n        '&api_key=5aa9a623bff2414e17acc8a5a4b894be' +\n        '&photo_id=' + photoID +\n        '&format=json';\n      RequestUtil.jsonp(url, 'jsonFlickrApi' + Date.now(), function (data) {\n        if (data.stat !== 'ok') {\n          this.emit(\n            EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n            photoID,\n            data.message\n          );\n\n          return false;\n        }\n\n        data.sizes.size.forEach(function (photo, index) {\n          // First available size of eiter 'Original' or the last available size\n          if (!largeImages[photoID] && (photo.label.indexOf('Original') > -1 ||\n            (index + 1 === data.sizes.size.length))) {\n            largeImages[photoID] = {src: photo.source};\n          }\n        });\n\n        if (!largeImages[photoID]) {\n          this.emit(\n            EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n            photoID,\n            'Did not find any content when searching for requested image.'\n          );\n\n          return false;\n        }\n\n        this.emit(EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE, photoID);\n      }.bind(this));\n    },\n\n    getPhotos: function () {\n      return images;\n    },\n\n    getLargePhoto: function (photoID) {\n      return largeImages[photoID];\n    }\n  }, EventEmitter);\n}\n\n// Singleton-ish\nmodule.exports = new PhotoStore();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./stores/PhotoStore.js\n// module id = 3\n// module chunks = 0","var Thumbnail = require('./Thumbnail');\n\nmodule.exports = Thumbnail;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Thumbnail/index.js\n// module id = 4\n// module chunks = 0","/*\n * Example usage:\n *\n * var EventEmitter require('../events/EventEmitter');\n * var ObjectUtil = require('./utils/ObjectUtil');\n *\n * module.exports = function MyEventEmitter() {\n *   // Private scope\n *\n *   return ObjectUtil.assign(Object.create(new EventEmitter()), {\n *     componentDidMount(element) {\n *       // Do something with element after mount\n *       this.emt('change', 'Element mounted');\n *     }\n *   });\n * };\n */\n\nfunction EventEmitter() {\n  var subscriptions = {};\n\n  return {\n    /**\n     * Function to call to notify subscribers of change\n     */\n    emit: function (eventName) {// , ...arg\n      var args = Array.prototype.slice.call(arguments, 1);\n      var subscribers = subscriptions[eventName] || [];\n      subscribers.forEach(function(handler) {\n        handler.apply(this, args);\n      });\n    },\n\n    /**\n     * Subscribe to change fired by implementing component\n     * @param  {Function} hander handler that is called on change\n     */\n    addListener: function (eventName, handler) {\n      if (!eventName) {\n        throw new Error('Subscribers must provide an event to listen to.');\n      }\n\n      if (typeof handler !== 'function') {\n        throw new Error('Event handler must be of type function. Type \"' + typeof handler + '\" was provided for event ' + eventName + '.');\n      }\n\n      if (!subscriptions[eventName]) {\n        // Forst listener, initialize\n        subscriptions[eventName] = [];\n      }\n\n      var alreadySubscribed = false;\n      subscriptions[eventName].forEach(function (eventHander) {\n        if (eventHander === handler) {\n          alreadySubscribed = true;\n        }\n      });\n\n      if (!alreadySubscribed) {\n        subscriptions[eventName].push(handler);\n      }\n    },\n\n    /**\n     * Unsubscribe from change events fired by implementing component\n     * @param  {Function} handler to remove from change events\n     */\n    removeListener: function (eventName, handler) {\n      if (!subscriptions[eventName]) {\n        return;\n      }\n\n      subscriptions[eventName] = subscriptions[eventName]\n        .filter(function (eventHander) {\n          return eventHander !== handler;\n        }\n      );\n    }\n  };\n}\n\nmodule.exports = EventEmitter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./events/EventEmitter.js\n// module id = 5\n// module chunks = 0","var FunctionUtil = {\n  /**\n   * Returns a function, that, as long as it continues to be invoked, will not\n   * be triggered. The function will be called after it stops being called for\n   * N milliseconds. Triggers the function on the trailing edge.\n   * @param  {Function} callback function to call\n   * @param  {Integer} wait Miliseconds to wait for each call\n   * @return {Function} a debounced function that will call callback\n   * when invoked\n   */\n  debounce: function (callback, wait) {\n    var lastUpdate;\n    var timeoutID;\n\n    return function () {\n      var newUpdate = Date.now();\n      if (lastUpdate && lastUpdate - newUpdate < wait) {\n        clearTimeout(timeoutID);\n      }\n      timeoutID = setTimeout(callback.bind(this, arguments), wait);\n      lastUpdate = newUpdate;\n    };\n  }\n};\n\nmodule.exports = FunctionUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/FunctionUtil.js\n// module id = 6\n// module chunks = 0","require('./index.html');\nrequire('./index.scss');\nvar App = require('./components/App/App');\n\nwindow.onload = function () {\n  var container = document.createElement('div');\n\n  // Mount app\n  new App().render(container);\n  document.getElementById('app').appendChild(container);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.js\n// module id = 7\n// module chunks = 0","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".grid{display:flex;flex-wrap:wrap}.grid-item{width:100%}@media (min-width:768px){.grid--fit>.grid-item,.grid-item{flex:1}.grid--full>.grid-item{flex:0 0 100%}.grid--1of2>.grid-item{flex:0 0 50%;width:50%}.grid--1of3>.grid-item{flex:0 0 33.3333%;width:33.3333%}.grid--1of4>.grid-item{flex:0 0 25%;width:25%}}.display-image img{max-height:70vh;max-width:90vw;overflow:auto}.thumbnail{background-color:#fdfcfe;border-radius:4px;border:1px solid #555;box-shadow:1px 1px 5px #000;padding:5px}.thumbnail .fill-image{border-radius:4px;background-position:50%;background-size:cover}.thumbnail .fill-image:before{content:\\\"\\\";display:block;padding-bottom:56.25%}.thumbnail .title{overflow:hidden}.image-viewer-backdrop{align-items:center;background:rgba(0,0,0,.4);display:flex;flex-direction:column;height:100vh;justify-content:center;left:0;opacity:0;position:absolute;top:0;transition:opacity .3s ease;width:100vw}.image-viewer-backdrop.show{opacity:1}.image-viewer{display:flex;flex:0 1 auto;flex-direction:column;flex-grow:0;flex-shrink:0;height:70vh;width:90vw;align-items:center;justify-content:center;opacity:0;transform:translateY(-25%);transition:opacity .3s ease,transform .3s ease}.show .image-viewer{transform:translateY(0);opacity:1}.image-viewer .display-image{overflow:auto}.image-viewer .arrow{color:#fdfcfe;cursor:pointer;height:60px;width:60px}.image-viewer .arrow:hover{color:#ff1493}.image-viewer .arrow:before{border-style:solid;border-width:2px 2px 0 0;content:\\\"\\\";display:inline-block;height:45px;left:15px;position:relative;top:15px;transform:rotate(-45deg);vertical-align:top;width:45px}.image-viewer .arrow.right:before{left:0;margin-left:45px;transform:rotate(45deg)}.image-viewer .arrow.bottom:before{top:0;transform:rotate(135deg)}.image-viewer .arrow.left:before{left:2px;margin-right:45px;transform:rotate(-135deg)}.image-viewer .close-button{position:absolute;cursor:pointer;display:inline-block;height:50px;right:0;top:0;overflow:hidden;width:50px}.image-viewer .close-button:hover:after,.image-viewer .close-button:hover:before{background:#ff1493}.image-viewer .close-button:after,.image-viewer .close-button:before{background:#fdfcfe;content:\\\"\\\";position:absolute;height:2px;width:100%;top:50%;left:0;margin-top:-1px}.image-viewer .close-button:before{transform:rotate(45deg)}.image-viewer .close-button:after{transform:rotate(-45deg)}.image-viewer .close-button.big{transform:scale(3)}.image-grid{flex-grow:1;overflow:auto;padding-left:15px;padding-right:15px}.image-grid .grid-item{cursor:pointer}@keyframes loader{0%{transform:scale(.1);opacity:1}70%{transform:scale(1);opacity:.7}to{opacity:0}}.loader-wrapper{align-items:center;display:flex;height:300px;justify-content:center;width:300px}.loader{position:relative;transform:translateY(-25px)}.loader>div:nth-child(0){animation-delay:-.8s}.loader>div:first-child{animation-delay:-.6s}.loader>div:nth-child(2){animation-delay:-.4s}.loader>div:nth-child(3){animation-delay:-.2s}.loader>div{animation-fill-mode:both;position:absolute;top:-2px;left:-26px;width:50px;height:50px;border-radius:100%;border:2px solid #fff;animation:loader 1.25s 0s infinite cubic-bezier(.21,.53,.56,.8)}.search-bar input.search{margin:15px;border-color:rgba(0,0,0,.2);border-radius:5px;border-width:1px;font-size:16px;height:42px;line-height:16px;padding:10px 12px;width:100%}.search-bar input.search:focus{background:#fdfcfe;border-color:#ff1493;color:#ff1493;outline:0;outline:none}@media (min-width:768px){.search-bar input.search{width:25%}}*{box-sizing:border-box}body{background-color:#333;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;margin:0;overflow:hidden}.app{display:flex;flex-direction:column;height:100vh;width:100vw}.text-white{color:#fdfcfe}.text-align-center{text-align:center}.primary{color:#ff1493}.hidden{display:none!important}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader?{\"sourceMap\":true}!../~/sass-loader/lib/loader.js!./index.scss\n// module id = 8\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader/lib/css-base.js\n// module id = 9\n// module chunks = 0","module.exports = __webpack_public_path__ + \"index.html\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.html\n// module id = 10\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/style-loader/addStyles.js\n// module id = 11\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/postcss-loader/index.js??ref--1-2!./../node_modules/sass-loader/lib/loader.js!./index.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/postcss-loader/index.js??ref--1-2!./../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/postcss-loader/index.js??ref--1-2!./../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.scss\n// module id = 12\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/webpack/buildin/global.js\n// module id = 13\n// module chunks = 0","var Component = require('../Component');\nvar EventTypes = require('../../constants/EventTypes');\nvar FunctionUtil = require('../../utils/FunctionUtil');\nvar SearchBar = require('../SearchBar');\nvar ImageGrid = require('../ImageGrid');\nvar ObjectUtil = require('../../utils/ObjectUtil');\nvar PhotoStore = require('../../stores/PhotoStore');\nvar Thumbnail = require('../Thumbnail');\n\nfunction App() {\n  var imageGrid = new ImageGrid();\n  var searchBar = new SearchBar();\n  var lastQuery = '';\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function (element, props) {\n      // Fetch new photos on input change\n      searchBar.render(element.querySelector('.search-bar'), {\n        onChange: function () {\n          // Don't re-fetch unless we have a new query\n          if (lastQuery !== this.value) {\n            PhotoStore.fetchPhotos(this.value);\n            lastQuery = this.value;\n          }\n        }\n      });\n\n      // Pass necessary properties to handlers\n      this.renderImageGrid = this.renderImageGrid.bind(\n        this,\n        element.querySelector('.image-grid')\n      );\n      // Re-render image grid when new photos are received\n      PhotoStore.addListener(\n        EventTypes.PHOTO_STORE_PHOTOS_CHANGE,\n        this.renderImageGrid\n      );\n      // Fetch photos on intial render\n      PhotoStore.fetchPhotos(lastQuery);\n    },\n\n    componentWillUnmount: function () {\n      // Never actually called,\n      // but always good practise to clean up after our selves\n      imageGrid.removeChangeListener(\n        EventTypes.PHOTO_STORE_PHOTOS_CHANGE,\n        this.renderImageGrid\n      );\n      PhotoStore.removeChangeListener(\n        EventTypes.PHOTO_STORE_PHOTOS_CHANGE,\n        this.renderImageGrid\n      );\n    },\n\n    /* View functions */\n    renderImageGrid: function (imageGridEl) {\n      imageGrid.render(imageGridEl);\n    },\n\n    getView: function () {\n      return (\n        '<div class=\"app\">' +\n          '<div class=\"search-bar\"></div>' +\n          '<div class=\"image-grid\"></div>' +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = App;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/App/App.js\n// module id = 14\n// module chunks = 0","/*\n * Example usage:\n *\n * var Component = require('../Component');\n * var ObjectUtil = require('./utils/ObjectUtil');\n *\n * module.exports = function MyComponent() {\n *   // Private scope\n *\n *   return ObjectUtil.assign(Object.create(new Component()), {\n *     componentWillMount(props) {\n *       // Do something with props before mount\n *     },\n *\n *     componentDidMount(element, props) {\n *       // Do something with element and props after mount\n *     },\n *\n *     componentWillUpdate(element, props) {\n *       // Do something with element and props before update\n *     },\n *\n *     componentDidUpdate(element, props) {\n *       // Do something with element and props on update\n *     },\n *\n *     componentWillUnmount(element, props) {\n *       // Clean up component with element and props\n *     },\n *\n *     getView(props) {\n *       // Return string of component view\n *       return (\n *         '<div>' +\n *           'Example DIV' +\n *         '</div>'\n *       );\n *     }\n *   });\n * };\n */\n\nfunction Component() {\n  // Private scope\n  var element = null;\n\n  return {\n    // Public API\n    /**\n     * Function to call when component should render into parent node\n     * Calls componentWillMount when node will be mounted\n     * Calls componentDidMount when node has mounted\n     * Calls componentWillUpdate when node will be updated\n     * Calls componentDidUpdate when node was updated\n     * @param {DOM Node} parentElement to render component within\n     * @param {Object} properties passed from render caller\n     */\n    render: function (parentElement, props) {\n      // Separate if-statement so Webpack knows to remove in production\n      if (process.env.NODE_ENV !== 'production') {\n        if (!parentElement) {\n          throw new Error('Parent of type: `' + typeof parentElement + '` is not valid. Please call `render` with a valid `HTMLElement`.');\n        }\n      }\n\n      // Call will mount\n      if (element == null && typeof this.componentWillMount === 'function') {\n        this.componentWillMount(props);\n      }\n\n      // Call will update\n      if (element != null && typeof this.componentWillUpdate === 'function') {\n        this.componentWillUpdate(element, props);\n      }\n\n      // Create temporary node to set innerHTML in\n      var tempNode = document.createElement('div');\n      tempNode.innerHTML = this.getView(props);\n      // Get the first child of temporary node, i.e. our view and\n      // store our new instance, and this before we get the view\n      var newElement = tempNode.firstChild;\n\n      // Rendering into new parent, unmount this element, so we can create a new\n      if (element != null && parentElement !== element.parentNode) {\n        this.unmount(element, props);\n      }\n      // Make sure that element is actually a child node of parent\n      // before we attempt to replace\n      if (element != null && parentElement === element.parentNode) {\n        // Handle consecutive renders\n        /*\n         * Replace this line with:\n         * `dd.apply(element, dd.diff(element, element));`\n         * from https://github.com/fiduswriter/diffDOM to create a mini version\n         * of React\n         */\n        parentElement.replaceChild(newElement, element);\n      }\n\n      if (element == null) {\n        // Handle first render\n        parentElement.appendChild(newElement);\n      }\n      // Store reference to element to be removed\n      var oldElement = element;\n      element = newElement;\n\n      // Call did mount\n      if (oldElement == null && typeof this.componentDidMount === 'function') {\n        this.componentDidMount(element, props);\n      }\n\n      // Call did update\n      if (oldElement != null && typeof this.componentDidUpdate === 'function') {\n        this.componentDidUpdate(element, props);\n      }\n    },\n\n    /**\n     * Unmounts element from its parent, if it has a parent. Calls\n     * componentWillUnmount if defined on object.\n     */\n    unmount: function (props) {\n      // Component was already unmounted\n      if (element == null) {\n        return;\n      }\n\n      if (typeof this.componentWillUnmount === 'function') {\n        this.componentWillUnmount(element, props);\n      }\n\n      // Check if child still has a parent node before attempting to remove\n      if (element && element.parentNode) {\n        element.parentNode.removeChild(element);\n      }\n\n      // Reset reference\n      element = null;\n    },\n\n    /**\n     * Produces view declaration in the form of a string\n     * @param  {Object} props properties passed to Component in `render`\n     * @return {String} view declaration to render in DOM\n     */\n    getView: function (props) {\n      // Separate if-statement so Webpack knows to remove in production\n      if (process.env.NODE_ENV !== 'production') {\n        throw new Error(typeof this + ' does not implement `getView`, but extends from Component. All objects that extends Component must implement `getView`');\n      }\n\n      return '';\n    }\n  };\n}\n\nmodule.exports = Component;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Component/Component.js\n// module id = 15\n// module chunks = 0","var Component = require('../Component');\nvar ObjectUtil = require('../../utils/ObjectUtil');\n\nfunction Image() {\n  return ObjectUtil.assign(Object.create(new Component()), {\n    getView: function (props) {\n      var src = props.src;\n      if (!src) {\n        return '';\n      }\n\n      return (\n        '<img src=\"' + src + '\" />'\n      );\n    }\n  });\n}\n\nmodule.exports = Image;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Image/Image.js\n// module id = 16\n// module chunks = 0","var Image = require('./Image');\n\nmodule.exports = Image;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Image/index.js\n// module id = 17\n// module chunks = 0","var Component = require('../../components/Component');\nvar EventEmitter = require('../../events/EventEmitter');\nvar EventTypes = require('../../constants/EventTypes');\nvar ImageViewer = require('../../components/ImageViewer');\nvar ObjectUtil = require('../../utils/ObjectUtil');\nvar PhotoStore = require('../../stores/PhotoStore');\nvar Thumbnail = require('../../components/Thumbnail');\n\nfunction ImageGrid() {\n  var imageViewer = new ImageViewer();\n  var shouldAnimateIn = true;\n  var selectedImageIndex;\n\n  /* Event handlers */\n  function handleImageClick(imageGridElm, props, event) {\n    var node = event.target;\n    // Walk up dom tree to first element from event.target with `data-index`,\n    // stop if we reach the image grid node\n    while (node.getAttribute('data-index') == null && node !== imageGridElm) {\n      node = node.parentNode;\n    }\n    var index = parseInt(node.getAttribute('data-index'), 10);\n    if (!isNaN(index)) {\n      shouldAnimateIn = true;\n      selectedImageIndex = index;\n      renderSelectedImage(imageGridElm.nextSibling, props);\n    }\n  }\n\n  function handleImageViewerClose(selectedImageElm, props) {\n    shouldAnimateIn = true;\n    selectedImageIndex = undefined;\n    renderSelectedImage(selectedImageElm, props);\n  }\n\n  function handleImageViewerLeftClick(selectedImageElm, props, event) {\n    var photos = PhotoStore.getPhotos();\n    // Should do nothing if there are no photos\n    if (!photos) {\n      return;\n    }\n\n    if (--selectedImageIndex < 0) {\n      selectedImageIndex = photos.length - 1;\n    }\n\n    shouldAnimateIn = false;\n    renderSelectedImage(selectedImageElm, props);\n  }\n\n  function handleImageViewerRightClick(selectedImageElm, props, event) {\n    var photos = PhotoStore.getPhotos();\n    // Should do nothing if there are no photos\n    if (!photos) {\n      return;\n    }\n\n    // Add before the modulus operator and use modulus as a circular buffer\n    selectedImageIndex = ++selectedImageIndex % photos.length;\n    shouldAnimateIn = false;\n    renderSelectedImage(selectedImageElm, props);\n  }\n\n  /* View functions */\n  function renderPhotoGrid(imageGridElm, props) {\n    PhotoStore.getPhotos().forEach(function (props, index) {\n      var newProps = ObjectUtil.assign({}, props);\n      newProps.index = index;\n      newProps.className = 'grid-item';\n      new Thumbnail().render(imageGridElm, newProps);\n    });\n  }\n\n  function renderSelectedImage(selectedImageElm, props) {\n    var photos = PhotoStore.getPhotos();\n    if (!photos.length) {\n      return;\n    }\n\n    var selectedChild = photos[selectedImageIndex];\n    if (!selectedChild) {\n      imageViewer.unmount(props);\n\n      return;\n    }\n    imageViewer.render(selectedImageElm, {\n      backdropClose: true,\n      onLeftClick: this.handleImageViewerLeftClick,\n      onRightClick: this.handleImageViewerRightClick,\n      onClose: this.handleImageViewerClose,\n      child: selectedChild,\n      shouldAnimateIn: shouldAnimateIn\n    });\n  }\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function () {\n      this.componentDidUpdate.apply(this, arguments);\n    },\n\n    componentWillUpdate: function (element, props) {\n      // Clean up element listeners\n      var imageGridElm = element.querySelector('.grid');\n      imageGridElm.removeEventListener('click', this.handleImageClick, false);\n    },\n\n    componentDidUpdate: function (element, props) {\n      var selectedImageElm = element.querySelector('.selected-image');\n      var imageGridElm = element.querySelector('.grid');\n\n      // Pass down necessary props to handler\n      this.handleImageClick = handleImageClick.bind(this, imageGridElm, props);\n      this.handleImageViewerLeftClick = handleImageViewerLeftClick.bind(\n        this,\n        selectedImageElm,\n        props\n      );\n      this.handleImageViewerRightClick = handleImageViewerRightClick.bind(\n        this,\n        selectedImageElm,\n        props\n      );\n      this.handleImageViewerClose = handleImageViewerClose.bind(\n        this,\n        selectedImageElm,\n        props\n      );\n\n      // Re-attach element click listener to grid, to only listen\n      // for clicks within its children, and not, e.g. image viewer\n      imageGridElm.addEventListener('click', this.handleImageClick, false);\n      renderPhotoGrid(imageGridElm, props);\n    },\n\n    componentWillUnmount: function (element) {\n      // Clean up element listeners\n      var imageGridElm = element.querySelector('.grid');\n      imageGridElm.removeEventListener('click', this.handleImageClick, false);\n    },\n\n    getView: function () {\n      var noImagesMessage = '';\n      if (!PhotoStore.getPhotos().length) {\n        noImagesMessage = (\n          '<p class=\"text-align-center primary\">' +\n            'Sorry, no images was found from that search. ' +\n            'Please try another search.' +\n          '</p>'\n        );\n      }\n\n      return (\n        '<div>' +\n          noImagesMessage +\n          '<div class=\"grid grid--1of4\"></div>' +\n          '<div class=\"selected-image\"></div>' +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = ImageGrid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/ImageGrid/ImageGrid.js\n// module id = 18\n// module chunks = 0","var ImageGrid = require('./ImageGrid');\n\nmodule.exports = ImageGrid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/ImageGrid/index.js\n// module id = 19\n// module chunks = 0","var Component = require('../Component');\nvar Image = require('../Image');\nvar EventTypes = require('../../constants/EventTypes');\nvar PhotoStore = require('../../stores/PhotoStore');\nvar KeyboardUtil = require('../../utils/KeyboardUtil');\nvar ObjectUtil = require('../../utils/ObjectUtil');\n\nvar getPhotoID = function (link) {\n  var segments = link.split('/');\n  var id = segments.pop()\n  while (!id) {\n    id = segments.pop();\n  }\n\n  return id;\n};\n\nfunction ImageViewer() {\n  var image = new Image();\n  var photoID;\n  var imageProps;\n\n  /* Event handlers */\n  function handleImageEvent(element, props, event) {\n    var keyCodes = KeyboardUtil.keyCodes;\n    var keyCode = event.keyCode;\n    var direction = event.target.getAttribute('data-direction');\n    var close = event.target.getAttribute('data-close');\n    var onLeftClick = props.onLeftClick;\n    var onRightClick = props.onRightClick;\n    var onClose = props.onClose;\n\n    // Handle change image left\n    if (typeof onLeftClick === 'function' && direction === 'left' ||\n      keyCode === keyCodes.leftArrow) {\n      onLeftClick(event);\n    }\n\n    // Handle change image right\n    if (typeof onRightClick === 'function' && direction === 'right' ||\n      keyCode === keyCodes.rightArrow) {\n      onRightClick(event);\n    }\n\n    if (direction === 'left' || keyCode === keyCodes.leftArrow ||\n      direction === 'right' || keyCode === keyCodes.rightArrow) {\n      // Hide error message and display image\n      element.querySelector('.error-message').classList.remove('hidden');\n      element.querySelector('.display-image').classList.add('hidden');\n      // Show loader\n      element.querySelector('.loader-wrapper').classList.remove('hidden');\n    }\n\n    // Handle close viewer\n    if (close === 'true' || keyCode === keyCodes.esc) {\n      // Remove class to animate. Call close when animation is done\n      element.classList.remove('show');\n      setTimeout(function () {\n        onClose(event);\n      }, 200);\n    }\n  }\n\n  /* View functions */\n  function renderImage(element, props, id) {\n    var child = props.child;\n    if (photoID !== id) {\n      return;\n    }\n    var photo = PhotoStore.getLargePhoto(photoID);\n    if (!photo || !photo.src) {\n      return;\n    }\n\n    element.querySelector('.loader-wrapper').classList.add('hidden');\n    var imageElm = element.querySelector('.display-image');\n    imageElm.classList.remove('hidden');\n\n    image.render(imageElm, {\n      src: photo.src,\n      // Transfer other information\n      title: child.title,\n      link: child.link\n    });\n  }\n\n  function renderError(element, id, message) {\n    if (photoID !== id) {\n      return;\n    }\n\n    element.querySelector('.loader-wrapper').classList.add('hidden');\n    var errorElement = element.querySelector('.error-message');\n    errorElement.classList.remove('hidden');\n    errorElement.innerHTML = message || 'Image request error';\n  }\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function (element, props) {\n      this.componentDidUpdate.apply(this, arguments);\n      // Set global listeners\n      global.addEventListener('keydown', this.handleImageEvent, false);\n    },\n\n    componentWillUpdate: function (element) {\n      // Clean up element listeners\n      element.removeEventListener('click', this.handleImageEvent, false);\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE,\n        this.renderImage\n      );\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n        this.renderError\n      );\n    },\n\n    componentDidUpdate: function (element, props) {\n      photoID = getPhotoID(props.child.link);\n      // Pass down necessary props\n      this.handleImageEvent = handleImageEvent.bind(this, element, props);\n      this.renderImage = renderImage.bind(this, element, props);\n      this.renderError = renderError.bind(this, element);\n\n      // Add show class in next render cycle to animate in\n      if (props.shouldAnimateIn) {\n        if (element) {\n          setTimeout(function () {\n            element.classList.add('show');\n          }, 100);\n        }\n      }\n\n      // Re-attach element listeners\n      element.addEventListener('click', this.handleImageEvent, false);\n      PhotoStore.addListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE,\n        this.renderImage\n      );\n      PhotoStore.addListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n        this.renderError\n      );\n\n      // Fetch large photo\n      PhotoStore.fetchLargePhoto(photoID);\n    },\n\n    componentWillUnmount: function (element) {\n      // Clean up global listeners\n      global.removeEventListener('keydown', this.handleImageEvent, false);\n      // Clean up element listeners\n      element.removeEventListener('click', this.handleImageEvent, false);\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE,\n        this.renderImage\n      );\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n        this.renderError\n      );\n    },\n\n    getView: function (props) {\n      var backdropClose = props.backdropClose;\n      var child = props.child;\n      var shouldAnimateIn = props.shouldAnimateIn;\n\n      var dataClose = '';\n      if (backdropClose) {\n        dataClose = 'data-close=\"true\"';\n      }\n\n      var imageViewerBackdropClasses = 'image-viewer-backdrop';\n      if (!shouldAnimateIn) {\n        imageViewerBackdropClasses += ' show';\n      }\n\n      var title = '';\n      if (child && child.title) {\n        title = (\n          '<p class=\"title text-white text-align-center\">' +\n            child.title +\n          '<p/>'\n        );\n      }\n\n      return (\n        '<div ' + dataClose + ' class=\"' + imageViewerBackdropClasses +'\">' +\n          '<div class=\"image-viewer\">' +\n            '<span data-close=\"true\" class=\"close-button\"></span>' +\n            '<div class=\"loader-wrapper\">' +\n              '<div class=\"loader\">' +\n                '<div></div>' +\n                '<div></div>' +\n                '<div></div>' +\n              '</div>' +\n            '</div>' +\n            '<p class=\"error-message primary hidden\"></p>' +\n            '<div class=\"display-image hidden\"></div>' +\n            title +\n            '<div class=\"arrow-container\">' +\n              '<span data-direction=\"left\" class=\"arrow left\"></span>' +\n              '<span data-direction=\"right\" class=\"arrow right\"></span>' +\n            '</div>' +\n          '</div>' +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = ImageViewer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/ImageViewer/ImageViewer.js\n// module id = 20\n// module chunks = 0","var ImageViewer = require('./ImageViewer');\n\nmodule.exports = ImageViewer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/ImageViewer/index.js\n// module id = 21\n// module chunks = 0","var Component = require('../../components/Component');\nvar FunctionUtil = require('../../utils/FunctionUtil');\nvar ObjectUtil = require('../../utils/ObjectUtil');\n\nfunction SearchBar() {\n  var onChange;\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function () {\n      this.componentDidUpdate.apply(this, arguments);\n    },\n\n    componentDidUpdate: function (element) {\n      // Clean up element listeners\n      element.removeEventListener('input', onChange, false);\n    },\n\n    componentDidUpdate: function (element, props) {\n      // Default to 100 miliseconds. A good time for responsive behaviour\n      var wait = props.wait || 100;\n      // Debounce requests on input, so we only request when typing stops\n      onChange = FunctionUtil.debounce(props.onChange, 100);\n      // Set element listers on input change\n      element.addEventListener('input', onChange, false);\n    },\n\n    componentWillUnmount: function (element) {\n      // Clean up element listeners\n      element.removeEventListener('input', onChange, false);\n    },\n\n    /* View functions */\n    getView: function (props) {\n      if (typeof props.onChange !== 'function') {\n        throw new Error(\n          'SearchBar needs onChange as a function. Type \"' +\n          typeof props.onChange +\n          '\" was given.'\n        );\n      }\n\n      return (\n        '<input placeholder=\"search\" autofocus=\"true\" class=\"search\" />'\n      );\n    }\n  });\n}\n\nmodule.exports = SearchBar;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/SearchBar/SearchBar.js\n// module id = 22\n// module chunks = 0","var SearchBar = require('./SearchBar');\n\nmodule.exports = SearchBar;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/SearchBar/index.js\n// module id = 23\n// module chunks = 0","var Component = require('../Component');\nvar ObjectUtil = require('../../utils/ObjectUtil');\n\nfunction Thumbnail() {\n  return ObjectUtil.assign(Object.create(new Component()), {\n    getView: function (props) {\n      var className = props.className;\n      var index = props.index;\n      var src = props.src;\n      var title = props.title;\n\n      if (!src) {\n        return '';\n      }\n      var classes = 'thumbnail';\n      if (className) {\n        classes += ' ' + className;\n      }\n\n      var dataIndex = '';\n      if (index != null) {\n        dataIndex = 'data-index=\"' + index + '\" '\n      }\n\n      var titleElm = '';\n      if (title) {\n        titleElm = '<p class=\"title\">' + title + '</p>';\n      }\n\n      return (\n        '<div class=\"' + classes + '\"' + dataIndex + '>' +\n          '<div ' +\n            'class=\"fill-image\" ' +\n            'data-src=\"' + src + '\" ' +\n            'style=\"background-image: url(' + src + ')\">' +\n          '</div>' +\n          titleElm +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = Thumbnail;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Thumbnail/Thumbnail.js\n// module id = 24\n// module chunks = 0","var KeyboardUtil = {\n  keyCodes: {\n    esc: 27,\n    leftArrow: 37,\n    rightArrow: 39\n  }\n};\n\nmodule.exports = KeyboardUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/KeyboardUtil.js\n// module id = 25\n// module chunks = 0","var onGoingRequests = {};\nvar RequestUtil = {\n  /**\n   * Makes a request by adding a script tag to the body element with the src\n   * attribute as the request url\n   * @param  {String} url to request\n   * @param  {String} callbackName name of callback\n   * @param  {Function} callback to be called when request returns\n   */\n  jsonp: function (url, callbackName, callback) {\n    var script = document.createElement('script');\n    script.setAttribute('src', url + '&jsoncallback=' + callbackName);\n    // Clean up after script\n    script.onload = function () {\n      document.body.removeChild(script);\n    }\n\n    window[callbackName] = function (data) {\n      onGoingRequests[callbackName]--;\n      if (onGoingRequests[callbackName] === 0) {\n        delete onGoingRequests[callbackName];\n      }\n      // Clean up after callback, if we are the last call waiting\n      if (onGoingRequests === 0) {\n        delete window[callbackName];\n      }\n      callback(data);\n    };\n\n    // TODO: Should really clear ongoing requests as we are firing a new one to\n    // override it. This will be fixed by not using jsonp\n    if (onGoingRequests[callbackName] === undefined) {\n      onGoingRequests[callbackName] = 0;\n    }\n\n    onGoingRequests[callbackName]++;\n    document.body.appendChild(script);\n  }\n};\n\nmodule.exports = RequestUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/RequestUtil.js\n// module id = 26\n// module chunks = 0"],"sourceRoot":""}