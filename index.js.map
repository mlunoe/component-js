{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap e0d2c2100d1820aeb005","webpack:///./utils/ObjectUtil.js","webpack:///./components/Component/index.js","webpack:///../~/webpack/buildin/global.js","webpack:///./constants/EventTypes.js","webpack:///./stores/PhotoStore.js","webpack:///./components/Thumbnail/index.js","webpack:///./events/EventEmitter.js","webpack:///./utils/FunctionUtil.js","webpack:///./index.js","webpack:///./index.scss","webpack:///../~/css-loader/lib/css-base.js","webpack:///./index.html","webpack:///../~/style-loader/addStyles.js","webpack:///./index.scss?cc11","webpack:///./components/App/App.js","webpack:///./components/Component/Component.js","webpack:///./components/Image/Image.js","webpack:///./components/Image/index.js","webpack:///./components/ImageGrid/ImageGrid.js","webpack:///./components/ImageGrid/index.js","webpack:///./components/ImageViewer/ImageViewer.js","webpack:///./components/ImageViewer/index.js","webpack:///./components/SearchBar/SearchBar.js","webpack:///./components/SearchBar/index.js","webpack:///./components/Thumbnail/Thumbnail.js","webpack:///./utils/ComponentUtil.js","webpack:///./utils/KeyboardUtil.js","webpack:///./utils/RequestUtil.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","ObjectUtil","assign","target","TypeError","index","arguments","length","source","key","Component","g","this","Function","eval","e","window","EventTypes","PHOTO_STORE_PHOTOS_CHANGE","PHOTO_STORE_SINGLE_PHOTO_CHANGE","PHOTO_STORE_SINGLE_PHOTO_ERROR","PhotoStore","baseUrl","transferProperties","restructureProperties","media","prop","tags","split","images","largeImages","create","EventEmitter","fetchPhotos","queryString","query","url","RequestUtil","jsonp","photos","items","map","photo","keys","reduce","memo","indexOf","result","emit","bind","fetchLargePhoto","photoID","Date","now","data","stat","message","sizes","size","forEach","label","src","getPhotos","getLargePhoto","Thumbnail","subscriptions","eventName","args","Array","slice","subscribers","handler","apply","addListener","Error","alreadySubscribed","eventHander","push","removeListener","filter","FunctionUtil","debounce","callback","wait","lastUpdate","timeoutID","newUpdate","clearTimeout","setTimeout","global","App","onload","container","document","createElement","render","getElementById","appendChild","list","toString","item","join","mediaQuery","alreadyImportedModules","id","addStylesToDom","styles","options","domStyle","stylesInDom","refs","j","parts","addStyle","listToStyles","newStyles","css","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","removeStyleElement","parentNode","removeChild","idx","splice","createStyleElement","type","createLinkElement","linkElement","rel","obj","update","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","fn","isOldIE","test","navigator","userAgent","toLowerCase","getElementsByTagName","DEBUG","newList","mayRemove","textStore","replacement","Boolean","content","locals","getImageGridRenderer","imageGridEl","imageGrid","ImageGrid","searchBar","SearchBar","lastQuery","renderImageGrid","componentDidMount","element","props","querySelector","onChange","componentWillUnmount","removeChangeListener","getView","parentElement","componentWillMount","componentWillUpdate","tempNode","innerHTML","newElement","unmount","replaceChild","oldElement","componentDidUpdate","Image","handleImageClick","event","node","getAttribute","parseInt","isNaN","shouldAnimateIn","selectedImageIndex","handleRenderSelectedImage","handleImageViewerClose","undefined","handleImageViewerLeftClick","handleImageViewerRightClick","renderPhotoGrid","imageGridElm","components","className","ComponentUtil","renderMultiple","renderSelectedImage","selectedImageElm","selectedChild","imageViewer","backdropClose","onLeftClick","onRightClick","onClose","child","ImageViewer","removeEventListener","addEventListener","noImagesMessage","getImageEventHandler","keyCode","direction","close","keyCodes","leftArrow","rightArrow","classList","add","esc","getImageRenderer","imageElm","image","title","link","getErrorRenderer","errorElement","handleImageEvent","renderImage","renderError","getPhotoID","dataClose","imageViewerBackdropClasses","KeyboardUtil","segments","pop","classes","dataIndex","titleElm","renderList","docFrag","createDocumentFragment","onGoingRequests","callbackName","script","body"],"mappings":"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","file":"./index.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 28);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nvar ObjectUtil = {\n  /**\n   * Polyfill from MDN\n   * Copies values of all enumerable own properties from one or more source\n   * objects to a target object. It will return the target object.\n   * @param  {Object} target the object to copy to\n   * @param  {Object} source(s) the object to copy from\n   * @return {Object} the object with source properties copied to target.\n   */\n  assign: function (target) { // , ...source\n    if (target == null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    target = Object(target);\n    for (var index = 1; index < arguments.length; index++) {\n      var source = arguments[index];\n      if (source != null) {\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n\n    return target;\n  }\n};\n\nmodule.exports = ObjectUtil;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(15);\n\nmodule.exports = Component;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nvar EventTypes = {\n  PHOTO_STORE_PHOTOS_CHANGE: 'PHOTO_STORE_PHOTOS_CHANGE',\n  PHOTO_STORE_SINGLE_PHOTO_CHANGE: 'PHOTO_STORE_SINGLE_PHOTO_CHANGE',\n  PHOTO_STORE_SINGLE_PHOTO_ERROR: 'PHOTO_STORE_SINGLE_PHOTO_ERROR'\n};\n\nmodule.exports = EventTypes;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar EventEmitter = __webpack_require__(6);\nvar EventTypes = __webpack_require__(3);\nvar ObjectUtil = __webpack_require__(0);\nvar RequestUtil = __webpack_require__(27);\n\nfunction PhotoStore() {\n  var baseUrl = 'https://api.flickr.com/services';\n  var transferProperties = [\n    'date_taken', 'published', 'author',\n    'author_id', 'description', 'link', 'title'\n  ];\n  var restructureProperties = {\n    media: function (media) {\n      return {prop: 'src', value: media.m};\n    },\n    tags:  function (tags) {\n      return {prop: 'tags', value: tags.split(' ')};\n    }\n  };\n\n  var images = [];\n  var largeImages = {};\n\n  return ObjectUtil.assign(Object.create(new EventEmitter()), {\n    fetchPhotos: function (queryString) {\n      var query = '';\n      if (queryString) {\n        query = '&tags=' + queryString;\n      }\n      var url = baseUrl + '/feeds/photos_public.gne?' +\n        'format=json' +\n        '&safe_search=1' + // turn on safe search\n        '&media=photos' +\n        query;\n      RequestUtil.jsonp(url, 'jsonFlickrFeed', function (photos) {\n        images = photos.items.map(function (photo) {\n          // Reduce data to the format we want to store\n          return Object.keys(photo).reduce(function (memo, prop) {\n            if (transferProperties.indexOf(prop) > -1) {\n              memo[prop] = photo[prop];\n            }\n\n            if (typeof restructureProperties[prop] === 'function') {\n              var result = restructureProperties[prop](photo[prop]);\n              memo[result.prop] = result.value;\n            }\n\n            return memo;\n          }, {});\n        });\n\n        // Emit change event\n        this.emit(EventTypes.PHOTO_STORE_PHOTOS_CHANGE);\n      }.bind(this));\n    },\n\n    fetchLargePhoto: function (photoID) {\n      if (largeImages[photoID]) {\n        this.emit(EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE, photoID);\n\n        return;\n      }\n\n      var url =  baseUrl + '/rest/?method=flickr.photos.getSizes' +\n        '&api_key=1c00c6a8b785a5baf3fb98859ae3ed18' +\n        '&photo_id=' + photoID +\n        '&format=json';\n      RequestUtil.jsonp(url, 'jsonFlickrApi' + Date.now(), function (data) {\n        if (data.stat !== 'ok') {\n          this.emit(\n            EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n            photoID,\n            data.message\n          );\n\n          return false;\n        }\n\n        data.sizes.size.forEach(function (photo, index) {\n          // First available size of eiter 'Original' or the last available size\n          if (!largeImages[photoID] && (photo.label.indexOf('Original') > -1 ||\n            (index + 1 === data.sizes.size.length))) {\n            largeImages[photoID] = {src: photo.source};\n          }\n        });\n\n        if (!largeImages[photoID]) {\n          this.emit(\n            EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n            photoID,\n            'Did not find any content when searching for requested image.'\n          );\n\n          return false;\n        }\n\n        this.emit(EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE, photoID);\n      }.bind(this));\n    },\n\n    getPhotos: function () {\n      return images;\n    },\n\n    getLargePhoto: function (photoID) {\n      return largeImages[photoID];\n    }\n  }, EventEmitter);\n}\n\n// Singleton-ish\nmodule.exports = new PhotoStore();\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Thumbnail = __webpack_require__(24);\n\nmodule.exports = Thumbnail;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n/*\n * Example usage:\n *\n * var EventEmitter require('../events/EventEmitter');\n * var ObjectUtil = require('./utils/ObjectUtil');\n *\n * module.exports = function MyEventEmitter() {\n *   // Private scope\n *\n *   return ObjectUtil.assign(Object.create(new EventEmitter()), {\n *     componentDidMount(element) {\n *       // Do something with element after mount\n *       this.emt('change', 'Element mounted');\n *     }\n *   });\n * };\n */\n\nfunction EventEmitter() {\n  var subscriptions = {};\n\n  return {\n    /**\n     * Function to call to notify subscribers of change\n     */\n    emit: function (eventName) {// , ...arg\n      var args = Array.prototype.slice.call(arguments, 1);\n      var subscribers = subscriptions[eventName] || [];\n      subscribers.forEach(function(handler) {\n        handler.apply(this, args);\n      });\n    },\n\n    /**\n     * Subscribe to change fired by implementing component\n     * @param  {Function} hander handler that is called on change\n     */\n    addListener: function (eventName, handler) {\n      if (!eventName) {\n        throw new Error('Subscribers must provide an event to listen to.');\n      }\n\n      if (typeof handler !== 'function') {\n        throw new Error('Event handler must be of type function. Type \"' + typeof handler + '\" was provided for event ' + eventName + '.');\n      }\n\n      if (!subscriptions[eventName]) {\n        // Forst listener, initialize\n        subscriptions[eventName] = [];\n      }\n\n      var alreadySubscribed = false;\n      subscriptions[eventName].forEach(function (eventHander) {\n        if (eventHander === handler) {\n          alreadySubscribed = true;\n        }\n      });\n\n      if (!alreadySubscribed) {\n        subscriptions[eventName].push(handler);\n      }\n    },\n\n    /**\n     * Unsubscribe from change events fired by implementing component\n     * @param  {Function} handler to remove from change events\n     */\n    removeListener: function (eventName, handler) {\n      if (!subscriptions[eventName]) {\n        return;\n      }\n\n      subscriptions[eventName] = subscriptions[eventName]\n        .filter(function (eventHander) {\n          return eventHander !== handler;\n        }\n      );\n    }\n  };\n}\n\nmodule.exports = EventEmitter;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nvar FunctionUtil = {\n  /**\n   * Returns a function, that, as long as it continues to be invoked, will not\n   * be triggered. The function will be called after it stops being called for\n   * N milliseconds. Triggers the function on the trailing edge.\n   * @param  {Function} callback function to call\n   * @param  {Integer} wait Miliseconds to wait for each call\n   * @return {Function} a debounced function that will call callback\n   * when invoked\n   */\n  debounce: function (callback, wait) {\n    var lastUpdate;\n    var timeoutID;\n\n    return function () {\n      var newUpdate = Date.now();\n      if (lastUpdate && lastUpdate - newUpdate < wait) {\n        clearTimeout(timeoutID);\n      }\n      timeoutID = setTimeout(callback.bind(this, arguments), wait);\n      lastUpdate = newUpdate;\n    };\n  }\n};\n\nmodule.exports = FunctionUtil;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {__webpack_require__(11);\n__webpack_require__(13);\nvar App = __webpack_require__(14);\n\nglobal.onload = function () {\n  var container = global.document.createElement('div');\n\n  // Mount app\n  new App().render(container);\n  global.document.getElementById('app').appendChild(container);\n};\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(10)();\n// imports\n\n\n// module\nexports.push([module.i, \".grid{display:flex;flex-wrap:wrap}.grid-item{width:100%}@media (min-width:768px){.grid--fit>.grid-item,.grid-item{flex:1}.grid--full>.grid-item{flex:0 0 100%}.grid--1of2>.grid-item{flex:0 0 50%;width:50%}.grid--1of3>.grid-item{flex:0 0 33.3333%;width:33.3333%}.grid--1of4>.grid-item{flex:0 0 25%;width:25%}}.display-image img{max-height:70vh;max-width:90vw;overflow:auto}.thumbnail{background-color:#fdfcfe;border-radius:4px;border:1px solid #555;box-shadow:1px 1px 5px #000;padding:5px}.thumbnail .fill-image{border-radius:4px;background-position:50%;background-size:cover}.thumbnail .fill-image:before{content:\\\"\\\";display:block;padding-bottom:56.25%}.thumbnail .title{overflow:hidden}.image-viewer-backdrop{align-items:center;background:rgba(0,0,0,.4);display:flex;flex-direction:column;height:100vh;justify-content:center;left:0;opacity:0;position:absolute;top:0;transition:opacity .3s ease;width:100vw}.image-viewer-backdrop.show{opacity:1}.image-viewer{display:flex;flex:0 1 auto;flex-direction:column;flex-grow:0;flex-shrink:0;height:70vh;width:90vw;align-items:center;justify-content:center;opacity:0;transform:translateY(-25%);transition:opacity .3s ease,transform .3s ease}.show .image-viewer{transform:translateY(0);opacity:1}.image-viewer .display-image{overflow:auto}.image-viewer .arrow{color:#fdfcfe;cursor:pointer;height:60px;width:60px}.image-viewer .arrow:hover{color:#ff1493}.image-viewer .arrow:before{border-style:solid;border-width:2px 2px 0 0;content:\\\"\\\";display:inline-block;height:45px;left:15px;position:relative;top:15px;transform:rotate(-45deg);vertical-align:top;width:45px}.image-viewer .arrow.right:before{left:0;margin-left:45px;transform:rotate(45deg)}.image-viewer .arrow.bottom:before{top:0;transform:rotate(135deg)}.image-viewer .arrow.left:before{left:2px;margin-right:45px;transform:rotate(-135deg)}.image-viewer .close-button{position:absolute;cursor:pointer;display:inline-block;height:50px;right:0;top:0;overflow:hidden;width:50px}.image-viewer .close-button:hover:after,.image-viewer .close-button:hover:before{background:#ff1493}.image-viewer .close-button:after,.image-viewer .close-button:before{background:#fdfcfe;content:\\\"\\\";position:absolute;height:2px;width:100%;top:50%;left:0;margin-top:-1px}.image-viewer .close-button:before{transform:rotate(45deg)}.image-viewer .close-button:after{transform:rotate(-45deg)}.image-viewer .close-button.big{transform:scale(3)}.image-grid{flex-grow:1;overflow:auto;padding-left:15px;padding-right:15px}.image-grid .grid-item{cursor:pointer}@keyframes loader{0%{transform:scale(.1);opacity:1}70%{transform:scale(1);opacity:.7}to{opacity:0}}.loader-wrapper{align-items:center;display:flex;height:300px;justify-content:center;width:300px}.loader{position:relative;transform:translateY(-25px)}.loader>div:nth-child(0){animation-delay:-.8s}.loader>div:first-child{animation-delay:-.6s}.loader>div:nth-child(2){animation-delay:-.4s}.loader>div:nth-child(3){animation-delay:-.2s}.loader>div{animation-fill-mode:both;position:absolute;top:-2px;left:-26px;width:50px;height:50px;border-radius:100%;border:2px solid #fff;animation:loader 1.25s 0s infinite cubic-bezier(.21,.53,.56,.8)}.search-bar input.search{margin:15px;border-color:rgba(0,0,0,.2);border-radius:5px;border-width:1px;font-size:16px;height:42px;line-height:16px;padding:10px 12px;width:100%}.search-bar input.search:focus{background:#fdfcfe;border-color:#ff1493;color:#ff1493;outline:0;outline:none}@media (min-width:768px){.search-bar input.search{width:25%}}*{box-sizing:border-box}body{background-color:#333;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;margin:0;overflow:hidden}.app{display:flex;flex-direction:column;height:100vh;width:100vw}.text-white{color:#fdfcfe}.text-align-center{text-align:center}.primary{color:#ff1493}.hidden{display:none!important}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"index.html\";\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(9);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(12)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/postcss-loader/index.js??ref--1-2!./../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/postcss-loader/index.js??ref--1-2!./../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1);\nvar EventTypes = __webpack_require__(3);\nvar FunctionUtil = __webpack_require__(7);\nvar SearchBar = __webpack_require__(23);\nvar ImageGrid = __webpack_require__(19);\nvar ObjectUtil = __webpack_require__(0);\nvar PhotoStore = __webpack_require__(4);\nvar Thumbnail = __webpack_require__(5);\n\nfunction App() {\n  var imageGrid = new ImageGrid();\n  var searchBar = new SearchBar();\n  var lastQuery = '';\n\n  /* View functions */\n  var renderImageGrid = function () {};\n  function getImageGridRenderer(imageGridEl) {\n    return function renderImageGrid() {\n      imageGrid.render(imageGridEl);\n    };\n  }\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function (element, props) {\n      // Fetch new photos on input change\n      searchBar.render(element.querySelector('.search-bar'), {\n        onChange: function () {\n          // Don't re-fetch unless we have a new query\n          if (lastQuery !== this.value) {\n            PhotoStore.fetchPhotos(this.value);\n            lastQuery = this.value;\n          }\n        }\n      });\n\n      // Pass necessary properties to handlers\n      renderImageGrid = getImageGridRenderer(\n        element.querySelector('.image-grid')\n      );\n      // Re-render image grid when new photos are received\n      PhotoStore.addListener(\n        EventTypes.PHOTO_STORE_PHOTOS_CHANGE,\n        renderImageGrid\n      );\n      // Fetch photos on intial render\n      PhotoStore.fetchPhotos(lastQuery);\n    },\n\n    componentWillUnmount: function () {\n      // Never actually called, but good practise to clean up after our selves\n      PhotoStore.removeChangeListener(\n        EventTypes.PHOTO_STORE_PHOTOS_CHANGE,\n        renderImageGrid\n      );\n\n      // Reset renderer after event listener was removed\n      renderImageGrid = function () {};\n    },\n\n    getView: function () {\n      return (\n        '<div class=\"app\">' +\n          '<div class=\"search-bar\"></div>' +\n          '<div class=\"image-grid\"></div>' +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = App;\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/*\n * Example usage:\n *\n * var Component = require('../Component');\n * var ObjectUtil = require('./utils/ObjectUtil');\n *\n * module.exports = function MyComponent() {\n *   // Private scope\n *\n *   return ObjectUtil.assign(Object.create(new Component()), {\n *     componentWillMount(props) {\n *       // Do something with props before mount\n *     },\n *\n *     componentDidMount(element, props) {\n *       // Do something with element and props after mount\n *     },\n *\n *     componentWillUpdate(element, props) {\n *       // Do something with element and props before update\n *     },\n *\n *     componentDidUpdate(element, props) {\n *       // Do something with element and props on update\n *     },\n *\n *     componentWillUnmount(element, props) {\n *       // Clean up component with element and props\n *     },\n *\n *     getView(props) {\n *       // Return string of component view\n *       return (\n *         '<div>' +\n *           'Example DIV' +\n *         '</div>'\n *       );\n *     }\n *   });\n * };\n */\n\nfunction Component() {\n  // Private scope\n  var element = null;\n\n  return {\n    // Public API\n    /**\n     * Function to call when component should render into parent node\n     * Calls componentWillMount when node will be mounted\n     * Calls componentDidMount when node has mounted\n     * Calls componentWillUpdate when node will be updated\n     * Calls componentDidUpdate when node was updated\n     * @param {DOM Node} parentElement to render component within\n     * @param {Object} properties passed from render caller\n     */\n    render: function (parentElement, props) {\n      // Separate if-statement so Webpack knows to remove in production\n      if (false) {\n        if (!parentElement) {\n          throw new Error('Parent of type: `' + typeof parentElement + '` is not valid. Please call `render` with a valid `HTMLElement`.');\n        }\n      }\n\n      // Call will mount\n      if (element == null && typeof this.componentWillMount === 'function') {\n        this.componentWillMount(props);\n      }\n\n      // Call will update\n      if (element != null && typeof this.componentWillUpdate === 'function') {\n        this.componentWillUpdate(element, props);\n      }\n\n      // Create temporary node to set innerHTML in\n      var tempNode = global.document.createElement('div');\n      tempNode.innerHTML = this.getView(props);\n      // Get the first child of temporary node, i.e. our view and\n      // store our new instance, and this before we get the view\n      var newElement = tempNode.firstChild;\n\n      // Rendering into new parent, unmount this element, so we can create a new\n      if (element != null && parentElement !== element.parentNode) {\n        this.unmount(element, props);\n      }\n      // Make sure that element is actually a child node of parent\n      // before we attempt to replace\n      if (element != null && parentElement === element.parentNode) {\n        // Handle consecutive renders\n        /*\n         * Replace this line with:\n         * `dd.apply(element, dd.diff(element, element));`\n         * from https://github.com/fiduswriter/diffDOM to create a mini version\n         * of React\n         */\n        parentElement.replaceChild(newElement, element);\n      }\n\n      if (element == null) {\n        // Handle first render\n        parentElement.appendChild(newElement);\n      }\n      // Store reference to element to be removed\n      var oldElement = element;\n      element = newElement;\n\n      // Call did mount\n      if (oldElement == null && typeof this.componentDidMount === 'function') {\n        this.componentDidMount(element, props);\n      }\n\n      // Call did update\n      if (oldElement != null && typeof this.componentDidUpdate === 'function') {\n        this.componentDidUpdate(element, props);\n      }\n    },\n\n    /**\n     * Unmounts element from its parent, if it has a parent. Calls\n     * componentWillUnmount if defined on object.\n     */\n    unmount: function () {\n      // Component was already unmounted\n      if (element == null) {\n        return;\n      }\n\n      if (typeof this.componentWillUnmount === 'function') {\n        this.componentWillUnmount(element);\n      }\n\n      // Check if child still has a parent node before attempting to remove\n      if (element && element.parentNode) {\n        element.parentNode.removeChild(element);\n      }\n\n      // Reset reference\n      element = null;\n    },\n\n    /**\n     * Produces view declaration in the form of a string\n     * @param  {Object} props properties passed to Component in `render`\n     * @return {String} view declaration to render in DOM\n     */\n    getView: function (props) {\n      // Separate if-statement so Webpack knows to remove in production\n      if (false) {\n        throw new Error(typeof this + ' does not implement `getView`, but extends from Component. All objects that extends Component must implement `getView`');\n      }\n\n      return '';\n    }\n  };\n}\n\nmodule.exports = Component;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1);\nvar ObjectUtil = __webpack_require__(0);\n\nfunction Image() {\n  return ObjectUtil.assign(Object.create(new Component()), {\n    getView: function (props) {\n      var src = props.src;\n      if (!src) {\n        return '';\n      }\n\n      return (\n        '<img src=\"' + src + '\" />'\n      );\n    }\n  });\n}\n\nmodule.exports = Image;\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Image = __webpack_require__(16);\n\nmodule.exports = Image;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1);\nvar ComponentUtil = __webpack_require__(25);\nvar EventEmitter = __webpack_require__(6);\nvar EventTypes = __webpack_require__(3);\nvar ImageViewer = __webpack_require__(21);\nvar ObjectUtil = __webpack_require__(0);\nvar PhotoStore = __webpack_require__(4);\nvar Thumbnail = __webpack_require__(5);\n\nfunction ImageGrid() {\n  var imageViewer = new ImageViewer();\n  var shouldAnimateIn = true;\n  var selectedImageIndex;\n\n  /* Event handlers */\n  var handleRenderSelectedImage = function () {};\n\n  function handleImageClick(event) {\n    var node = event.target;\n    // Walk up dom tree to first element from event.target with `data-index`,\n    // stop if we reach the image grid node\n    while (node.getAttribute('data-index') == null && node !== this) {\n      node = node.parentNode;\n    }\n    var index = parseInt(node.getAttribute('data-index'), 10);\n    if (!isNaN(index)) {\n      shouldAnimateIn = true;\n      selectedImageIndex = index;\n      handleRenderSelectedImage();\n    }\n  }\n\n  function handleImageViewerClose() {\n    shouldAnimateIn = true;\n    selectedImageIndex = undefined;\n    handleRenderSelectedImage();\n  }\n\n  function handleImageViewerLeftClick(event) {\n    var photos = PhotoStore.getPhotos();\n    // Should do nothing if there are no photos\n    if (!photos) {\n      return;\n    }\n\n    if (--selectedImageIndex < 0) {\n      selectedImageIndex = photos.length - 1;\n    }\n\n    shouldAnimateIn = false;\n    handleRenderSelectedImage();\n  }\n\n  function handleImageViewerRightClick(event) {\n    var photos = PhotoStore.getPhotos();\n    // Should do nothing if there are no photos\n    if (!photos) {\n      return;\n    }\n\n    // Add before the modulus operator and use modulus as a circular buffer\n    selectedImageIndex = ++selectedImageIndex % photos.length;\n    shouldAnimateIn = false;\n    handleRenderSelectedImage();\n  }\n\n  /* View functions */\n  function renderPhotoGrid(imageGridElm, props) {\n    var components = PhotoStore.getPhotos().map(function (props, index) {\n      return function renderThumbnail(element) {\n        new Thumbnail().render(element, ObjectUtil.assign({}, props, {\n          className: 'grid-item',\n          index: index\n        }));\n      };\n    });\n\n    ComponentUtil.renderMultiple(components, imageGridElm)\n  }\n\n  function renderSelectedImage(selectedImageElm) {\n    var photos = PhotoStore.getPhotos();\n    if (!photos.length) {\n      return;\n    }\n\n    var selectedChild = photos[selectedImageIndex];\n    if (!selectedChild) {\n      imageViewer.unmount();\n\n      return;\n    }\n\n    imageViewer.render(selectedImageElm, {\n      backdropClose: true,\n      onLeftClick: handleImageViewerLeftClick,\n      onRightClick: handleImageViewerRightClick,\n      onClose: handleImageViewerClose,\n      child: selectedChild,\n      shouldAnimateIn: shouldAnimateIn\n    });\n  }\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function () {\n      this.componentDidUpdate.apply(this, arguments);\n    },\n\n    componentWillUpdate: function (element, props) {\n      // Clean up element listeners\n      var imageGridElm = element.querySelector('.grid');\n      imageGridElm.removeEventListener('click', handleImageClick, false);\n      // Reset handler after event listener was removed\n      var handleRenderSelectedImage = function () {};\n    },\n\n    componentDidUpdate: function (element, props) {\n      var selectedImageElm = element.querySelector('.selected-image');\n      var imageGridElm = element.querySelector('.grid');\n\n      // Create new handler for when prop functions gets called\n      handleRenderSelectedImage = function () {\n        renderSelectedImage(selectedImageElm);\n      };\n\n      // Re-attach element click listener to grid, to only listen\n      // for clicks within its children, and not, e.g. image viewer\n      imageGridElm.addEventListener('click', handleImageClick, false);\n      renderPhotoGrid(imageGridElm, props);\n    },\n\n    componentWillUnmount: function (element) {\n      // Clean up element listeners\n      var imageGridElm = element.querySelector('.grid');\n      imageGridElm.removeEventListener('click', handleImageClick, false);\n      // Reset handler after event listener was removed\n      var handleRenderSelectedImage = function () {};\n    },\n\n    getView: function () {\n      var noImagesMessage = '';\n      if (!PhotoStore.getPhotos().length) {\n        noImagesMessage = (\n          '<p class=\"text-align-center primary\">' +\n            'Sorry, no images was found from that search. ' +\n            'Please try another search.' +\n          '</p>'\n        );\n      }\n\n      return (\n        '<div>' +\n          noImagesMessage +\n          '<div class=\"grid grid--1of4\"></div>' +\n          '<div class=\"selected-image\"></div>' +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = ImageGrid;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ImageGrid = __webpack_require__(18);\n\nmodule.exports = ImageGrid;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var Component = __webpack_require__(1);\nvar Image = __webpack_require__(17);\nvar EventTypes = __webpack_require__(3);\nvar PhotoStore = __webpack_require__(4);\nvar KeyboardUtil = __webpack_require__(26);\nvar ObjectUtil = __webpack_require__(0);\n\nvar keyCodes = KeyboardUtil.keyCodes;\n\nvar getPhotoID = function (link) {\n  var segments = link.split('/');\n  var id = segments.pop()\n  while (!id) {\n    id = segments.pop();\n  }\n\n  return id;\n};\n\nfunction ImageViewer() {\n  var image = new Image();\n  var photoID;\n  var imageProps;\n\n  /* Event handlers */\n  var handleImageEvent = function () {};\n  function getImageEventHandler(element, props) {\n    var onLeftClick = props.onLeftClick;\n    var onRightClick = props.onRightClick;\n    var onClose = props.onClose;\n\n    // Return handler for event\n    return function handleImageEvent(event) {\n      var keyCode = event.keyCode;\n      var direction = event.target.getAttribute('data-direction');\n      var close = event.target.getAttribute('data-close');\n\n      // Handle change image left\n      if (typeof onLeftClick === 'function' && direction === 'left' ||\n        keyCode === keyCodes.leftArrow) {\n        onLeftClick(event);\n      }\n\n      // Handle change image right\n      if (typeof onRightClick === 'function' && direction === 'right' ||\n        keyCode === keyCodes.rightArrow) {\n        onRightClick(event);\n      }\n\n      if (direction === 'left' || keyCode === keyCodes.leftArrow ||\n        direction === 'right' || keyCode === keyCodes.rightArrow) {\n        // Hide error message and display image\n        element.querySelector('.error-message').classList.remove('hidden');\n        element.querySelector('.display-image').classList.add('hidden');\n        // Show loader\n        element.querySelector('.loader-wrapper').classList.remove('hidden');\n      }\n\n      // Handle close viewer\n      if (close === 'true' || keyCode === keyCodes.esc) {\n        // Remove class to animate. Call close when animation is done\n        element.classList.remove('show');\n        setTimeout(function () {\n          onClose(event);\n        }, 200);\n      }\n    }\n  }\n\n  /* View functions */\n  var renderImage = function () {};\n  function getImageRenderer(element, props) {\n    return function renderImage(id) {\n      var child = props.child;\n      if (photoID !== id) {\n        return;\n      }\n      var photo = PhotoStore.getLargePhoto(photoID);\n      if (!photo || !photo.src) {\n        return;\n      }\n\n      element.querySelector('.loader-wrapper').classList.add('hidden');\n      var imageElm = element.querySelector('.display-image');\n      imageElm.classList.remove('hidden');\n\n      image.render(imageElm, {\n        src: photo.src,\n        // Transfer other information\n        title: child.title,\n        link: child.link\n      });\n    };\n  }\n\n  var renderError = function () {};\n  function getErrorRenderer(element) {\n    return function renderError(id, message) {\n      if (photoID !== id) {\n        return;\n      }\n\n      element.querySelector('.loader-wrapper').classList.add('hidden');\n      var errorElement = element.querySelector('.error-message');\n      errorElement.classList.remove('hidden');\n      errorElement.innerHTML = message || 'Image request error';\n    };\n  }\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function (element, props) {\n      this.componentDidUpdate.apply(this, arguments);\n      // Set global listeners\n      global.addEventListener('keydown', handleImageEvent, false);\n    },\n\n    componentWillUpdate: function (element) {\n      // Clean up element listeners\n      element.removeEventListener('click', handleImageEvent, false);\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE,\n        renderImage\n      );\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n        renderError\n      );\n\n      // Reset handler after event listener was removed\n      handleImageEvent = function () {};\n      // Reset renderers after event listener was removed\n      renderImage = function () {};\n      renderError = function () {};\n    },\n\n    componentDidUpdate: function (element, props) {\n      photoID = getPhotoID(props.child.link);\n\n      var onLeftClick = props.onLeftClick;\n      var onRightClick = props.onRightClick;\n      var onClose = props.onClose;\n\n      // Create new handlers for event\n      handleImageEvent = getImageEventHandler(element, props);\n      // Create new render functions\n      renderImage = getImageRenderer(element, props);\n      renderError = getErrorRenderer(element);\n\n      // Add show class in next render cycle to animate in\n      if (props.shouldAnimateIn) {\n        if (element) {\n          setTimeout(function () {\n            element.classList.add('show');\n          }, 100);\n        }\n      }\n\n      // Re-attach element listeners\n      element.addEventListener('click', handleImageEvent, false);\n      PhotoStore.addListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE,\n        renderImage\n      );\n      PhotoStore.addListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n        renderError\n      );\n\n      // Fetch large photo\n      PhotoStore.fetchLargePhoto(photoID);\n    },\n\n    componentWillUnmount: function (element) {\n      // Clean up global listeners\n      global.removeEventListener('keydown', handleImageEvent, false);\n      // Clean up element listeners\n      element.removeEventListener('click', handleImageEvent, false);\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE,\n        renderImage\n      );\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n        renderError\n      );\n\n      // Reset handler after event listener was removed\n      handleImageEvent = function () {};\n      // Reset renderers after event listener was removed\n      renderImage = function () {};\n      renderError = function () {};\n    },\n\n    getView: function (props) {\n      var backdropClose = props.backdropClose;\n      var child = props.child;\n      var shouldAnimateIn = props.shouldAnimateIn;\n\n      var dataClose = '';\n      if (backdropClose) {\n        dataClose = 'data-close=\"true\"';\n      }\n\n      var imageViewerBackdropClasses = 'image-viewer-backdrop';\n      if (!shouldAnimateIn) {\n        imageViewerBackdropClasses += ' show';\n      }\n\n      var title = '';\n      if (child && child.title) {\n        title = (\n          '<p class=\"title text-white text-align-center\">' +\n            child.title +\n          '<p/>'\n        );\n      }\n\n      return (\n        '<div ' + dataClose + ' class=\"' + imageViewerBackdropClasses +'\">' +\n          '<div class=\"image-viewer\">' +\n            '<span data-close=\"true\" class=\"close-button\"></span>' +\n            '<div class=\"loader-wrapper\">' +\n              '<div class=\"loader\">' +\n                '<div></div>' +\n                '<div></div>' +\n                '<div></div>' +\n              '</div>' +\n            '</div>' +\n            '<p class=\"error-message primary hidden\"></p>' +\n            '<div class=\"display-image hidden\"></div>' +\n            title +\n            '<div class=\"arrow-container\">' +\n              '<span data-direction=\"left\" class=\"arrow left\"></span>' +\n              '<span data-direction=\"right\" class=\"arrow right\"></span>' +\n            '</div>' +\n          '</div>' +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = ImageViewer;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar ImageViewer = __webpack_require__(20);\n\nmodule.exports = ImageViewer;\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1);\nvar FunctionUtil = __webpack_require__(7);\nvar ObjectUtil = __webpack_require__(0);\n\nfunction SearchBar() {\n  var onChange;\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function () {\n      this.componentDidUpdate.apply(this, arguments);\n    },\n\n    componentDidUpdate: function (element) {\n      // Clean up element listeners\n      element.removeEventListener('input', onChange, false);\n    },\n\n    componentDidUpdate: function (element, props) {\n      // Default to 100 miliseconds. A good time for responsive behaviour\n      var wait = props.wait || 100;\n      // Debounce requests on input, so we only request when typing stops\n      onChange = FunctionUtil.debounce(props.onChange, 100);\n      // Set element listers on input change\n      element.addEventListener('input', onChange, false);\n    },\n\n    componentWillUnmount: function (element) {\n      // Clean up element listeners\n      element.removeEventListener('input', onChange, false);\n    },\n\n    /* View functions */\n    getView: function (props) {\n      if (typeof props.onChange !== 'function') {\n        throw new Error(\n          'SearchBar needs onChange as a function. Type \"' +\n          typeof props.onChange +\n          '\" was given.'\n        );\n      }\n\n      return (\n        '<input placeholder=\"search\" autofocus=\"true\" class=\"search\" />'\n      );\n    }\n  });\n}\n\nmodule.exports = SearchBar;\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar SearchBar = __webpack_require__(22);\n\nmodule.exports = SearchBar;\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1);\nvar ObjectUtil = __webpack_require__(0);\n\nfunction Thumbnail() {\n  return ObjectUtil.assign(Object.create(new Component()), {\n    getView: function (props) {\n      var className = props.className;\n      var index = props.index;\n      var src = props.src;\n      var title = props.title;\n\n      if (!src) {\n        return '';\n      }\n      var classes = 'thumbnail';\n      if (className) {\n        classes += ' ' + className;\n      }\n\n      var dataIndex = '';\n      if (index != null) {\n        dataIndex = 'data-index=\"' + index + '\" '\n      }\n\n      var titleElm = '';\n      if (title) {\n        titleElm = '<p class=\"title\">' + title + '</p>';\n      }\n\n      return (\n        '<div class=\"' + classes + '\"' + dataIndex + '>' +\n          '<div ' +\n            'class=\"fill-image\" ' +\n            'data-src=\"' + src + '\" ' +\n            'style=\"background-image: url(' + src + ')\">' +\n          '</div>' +\n          titleElm +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = Thumbnail;\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var ComponentUtil = {\n  /**\n   * Renders mulitple components into one element using a DocumentFragment\n   * @param  {Array<Function>} renderList list of render functions to get called\n   * iteratively with DocumentFragment to be rendered in\n   * @param  {HTMLElement} element to render list in\n   */\n  renderMultiple: function (renderList, element) {\n    var docFrag = global.document.createDocumentFragment();\n    renderList.forEach(function (render, index) {\n      // Separate if-statement so Webpack knows to remove in production\n      if (false) {\n        if (typeof render !== 'function') {\n          throw new Error('Render item number ' + index + ' in list was not a function. Please provide a function for each item in list to render.');\n        }\n      }\n\n      render(docFrag, index);\n    });\n\n    element.appendChild(docFrag);\n  }\n};\n\nmodule.exports = ComponentUtil;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\nvar KeyboardUtil = {\n  keyCodes: {\n    esc: 27,\n    leftArrow: 37,\n    rightArrow: 39\n  }\n};\n\nmodule.exports = KeyboardUtil;\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {var onGoingRequests = {};\nvar RequestUtil = {\n  /**\n   * Makes a request by adding a script tag to the body element with the src\n   * attribute as the request url\n   * @param  {String} url to request\n   * @param  {String} callbackName name of callback\n   * @param  {Function} callback to be called when request returns\n   */\n  jsonp: function (url, callbackName, callback) {\n    var script = global.document.createElement('script');\n    script.setAttribute('src', url + '&jsoncallback=' + callbackName);\n    // Clean up after script\n    script.onload = function () {\n      global.document.body.removeChild(script);\n    }\n\n    global[callbackName] = function (data) {\n      onGoingRequests[callbackName]--;\n      if (onGoingRequests[callbackName] === 0) {\n        delete onGoingRequests[callbackName];\n      }\n      // Clean up after callback, if we are the last call waiting\n      if (onGoingRequests === 0) {\n        delete global[callbackName];\n      }\n      callback(data);\n    };\n\n    // TODO: Should really clear ongoing requests as we are firing a new one to\n    // override it. This will be fixed by not using jsonp\n    if (onGoingRequests[callbackName] === undefined) {\n      onGoingRequests[callbackName] = 0;\n    }\n\n    onGoingRequests[callbackName]++;\n    global.document.body.appendChild(script);\n  }\n};\n\nmodule.exports = RequestUtil;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(8);\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 28);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e0d2c2100d1820aeb005","var ObjectUtil = {\n  /**\n   * Polyfill from MDN\n   * Copies values of all enumerable own properties from one or more source\n   * objects to a target object. It will return the target object.\n   * @param  {Object} target the object to copy to\n   * @param  {Object} source(s) the object to copy from\n   * @return {Object} the object with source properties copied to target.\n   */\n  assign: function (target) { // , ...source\n    if (target == null) {\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    target = Object(target);\n    for (var index = 1; index < arguments.length; index++) {\n      var source = arguments[index];\n      if (source != null) {\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n\n    return target;\n  }\n};\n\nmodule.exports = ObjectUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/ObjectUtil.js\n// module id = 0\n// module chunks = 0","var Component = require('./Component');\n\nmodule.exports = Component;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Component/index.js\n// module id = 1\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/webpack/buildin/global.js\n// module id = 2\n// module chunks = 0","var EventTypes = {\n  PHOTO_STORE_PHOTOS_CHANGE: 'PHOTO_STORE_PHOTOS_CHANGE',\n  PHOTO_STORE_SINGLE_PHOTO_CHANGE: 'PHOTO_STORE_SINGLE_PHOTO_CHANGE',\n  PHOTO_STORE_SINGLE_PHOTO_ERROR: 'PHOTO_STORE_SINGLE_PHOTO_ERROR'\n};\n\nmodule.exports = EventTypes;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./constants/EventTypes.js\n// module id = 3\n// module chunks = 0","var EventEmitter = require('../events/EventEmitter');\nvar EventTypes = require('../constants/EventTypes');\nvar ObjectUtil = require('../utils/ObjectUtil');\nvar RequestUtil = require('../utils/RequestUtil');\n\nfunction PhotoStore() {\n  var baseUrl = 'https://api.flickr.com/services';\n  var transferProperties = [\n    'date_taken', 'published', 'author',\n    'author_id', 'description', 'link', 'title'\n  ];\n  var restructureProperties = {\n    media: function (media) {\n      return {prop: 'src', value: media.m};\n    },\n    tags:  function (tags) {\n      return {prop: 'tags', value: tags.split(' ')};\n    }\n  };\n\n  var images = [];\n  var largeImages = {};\n\n  return ObjectUtil.assign(Object.create(new EventEmitter()), {\n    fetchPhotos: function (queryString) {\n      var query = '';\n      if (queryString) {\n        query = '&tags=' + queryString;\n      }\n      var url = baseUrl + '/feeds/photos_public.gne?' +\n        'format=json' +\n        '&safe_search=1' + // turn on safe search\n        '&media=photos' +\n        query;\n      RequestUtil.jsonp(url, 'jsonFlickrFeed', function (photos) {\n        images = photos.items.map(function (photo) {\n          // Reduce data to the format we want to store\n          return Object.keys(photo).reduce(function (memo, prop) {\n            if (transferProperties.indexOf(prop) > -1) {\n              memo[prop] = photo[prop];\n            }\n\n            if (typeof restructureProperties[prop] === 'function') {\n              var result = restructureProperties[prop](photo[prop]);\n              memo[result.prop] = result.value;\n            }\n\n            return memo;\n          }, {});\n        });\n\n        // Emit change event\n        this.emit(EventTypes.PHOTO_STORE_PHOTOS_CHANGE);\n      }.bind(this));\n    },\n\n    fetchLargePhoto: function (photoID) {\n      if (largeImages[photoID]) {\n        this.emit(EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE, photoID);\n\n        return;\n      }\n\n      var url =  baseUrl + '/rest/?method=flickr.photos.getSizes' +\n        '&api_key=1c00c6a8b785a5baf3fb98859ae3ed18' +\n        '&photo_id=' + photoID +\n        '&format=json';\n      RequestUtil.jsonp(url, 'jsonFlickrApi' + Date.now(), function (data) {\n        if (data.stat !== 'ok') {\n          this.emit(\n            EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n            photoID,\n            data.message\n          );\n\n          return false;\n        }\n\n        data.sizes.size.forEach(function (photo, index) {\n          // First available size of eiter 'Original' or the last available size\n          if (!largeImages[photoID] && (photo.label.indexOf('Original') > -1 ||\n            (index + 1 === data.sizes.size.length))) {\n            largeImages[photoID] = {src: photo.source};\n          }\n        });\n\n        if (!largeImages[photoID]) {\n          this.emit(\n            EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n            photoID,\n            'Did not find any content when searching for requested image.'\n          );\n\n          return false;\n        }\n\n        this.emit(EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE, photoID);\n      }.bind(this));\n    },\n\n    getPhotos: function () {\n      return images;\n    },\n\n    getLargePhoto: function (photoID) {\n      return largeImages[photoID];\n    }\n  }, EventEmitter);\n}\n\n// Singleton-ish\nmodule.exports = new PhotoStore();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./stores/PhotoStore.js\n// module id = 4\n// module chunks = 0","var Thumbnail = require('./Thumbnail');\n\nmodule.exports = Thumbnail;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Thumbnail/index.js\n// module id = 5\n// module chunks = 0","/*\n * Example usage:\n *\n * var EventEmitter require('../events/EventEmitter');\n * var ObjectUtil = require('./utils/ObjectUtil');\n *\n * module.exports = function MyEventEmitter() {\n *   // Private scope\n *\n *   return ObjectUtil.assign(Object.create(new EventEmitter()), {\n *     componentDidMount(element) {\n *       // Do something with element after mount\n *       this.emt('change', 'Element mounted');\n *     }\n *   });\n * };\n */\n\nfunction EventEmitter() {\n  var subscriptions = {};\n\n  return {\n    /**\n     * Function to call to notify subscribers of change\n     */\n    emit: function (eventName) {// , ...arg\n      var args = Array.prototype.slice.call(arguments, 1);\n      var subscribers = subscriptions[eventName] || [];\n      subscribers.forEach(function(handler) {\n        handler.apply(this, args);\n      });\n    },\n\n    /**\n     * Subscribe to change fired by implementing component\n     * @param  {Function} hander handler that is called on change\n     */\n    addListener: function (eventName, handler) {\n      if (!eventName) {\n        throw new Error('Subscribers must provide an event to listen to.');\n      }\n\n      if (typeof handler !== 'function') {\n        throw new Error('Event handler must be of type function. Type \"' + typeof handler + '\" was provided for event ' + eventName + '.');\n      }\n\n      if (!subscriptions[eventName]) {\n        // Forst listener, initialize\n        subscriptions[eventName] = [];\n      }\n\n      var alreadySubscribed = false;\n      subscriptions[eventName].forEach(function (eventHander) {\n        if (eventHander === handler) {\n          alreadySubscribed = true;\n        }\n      });\n\n      if (!alreadySubscribed) {\n        subscriptions[eventName].push(handler);\n      }\n    },\n\n    /**\n     * Unsubscribe from change events fired by implementing component\n     * @param  {Function} handler to remove from change events\n     */\n    removeListener: function (eventName, handler) {\n      if (!subscriptions[eventName]) {\n        return;\n      }\n\n      subscriptions[eventName] = subscriptions[eventName]\n        .filter(function (eventHander) {\n          return eventHander !== handler;\n        }\n      );\n    }\n  };\n}\n\nmodule.exports = EventEmitter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./events/EventEmitter.js\n// module id = 6\n// module chunks = 0","var FunctionUtil = {\n  /**\n   * Returns a function, that, as long as it continues to be invoked, will not\n   * be triggered. The function will be called after it stops being called for\n   * N milliseconds. Triggers the function on the trailing edge.\n   * @param  {Function} callback function to call\n   * @param  {Integer} wait Miliseconds to wait for each call\n   * @return {Function} a debounced function that will call callback\n   * when invoked\n   */\n  debounce: function (callback, wait) {\n    var lastUpdate;\n    var timeoutID;\n\n    return function () {\n      var newUpdate = Date.now();\n      if (lastUpdate && lastUpdate - newUpdate < wait) {\n        clearTimeout(timeoutID);\n      }\n      timeoutID = setTimeout(callback.bind(this, arguments), wait);\n      lastUpdate = newUpdate;\n    };\n  }\n};\n\nmodule.exports = FunctionUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/FunctionUtil.js\n// module id = 7\n// module chunks = 0","require('./index.html');\nrequire('./index.scss');\nvar App = require('./components/App/App');\n\nglobal.onload = function () {\n  var container = global.document.createElement('div');\n\n  // Mount app\n  new App().render(container);\n  global.document.getElementById('app').appendChild(container);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.js\n// module id = 8\n// module chunks = 0","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".grid{display:flex;flex-wrap:wrap}.grid-item{width:100%}@media (min-width:768px){.grid--fit>.grid-item,.grid-item{flex:1}.grid--full>.grid-item{flex:0 0 100%}.grid--1of2>.grid-item{flex:0 0 50%;width:50%}.grid--1of3>.grid-item{flex:0 0 33.3333%;width:33.3333%}.grid--1of4>.grid-item{flex:0 0 25%;width:25%}}.display-image img{max-height:70vh;max-width:90vw;overflow:auto}.thumbnail{background-color:#fdfcfe;border-radius:4px;border:1px solid #555;box-shadow:1px 1px 5px #000;padding:5px}.thumbnail .fill-image{border-radius:4px;background-position:50%;background-size:cover}.thumbnail .fill-image:before{content:\\\"\\\";display:block;padding-bottom:56.25%}.thumbnail .title{overflow:hidden}.image-viewer-backdrop{align-items:center;background:rgba(0,0,0,.4);display:flex;flex-direction:column;height:100vh;justify-content:center;left:0;opacity:0;position:absolute;top:0;transition:opacity .3s ease;width:100vw}.image-viewer-backdrop.show{opacity:1}.image-viewer{display:flex;flex:0 1 auto;flex-direction:column;flex-grow:0;flex-shrink:0;height:70vh;width:90vw;align-items:center;justify-content:center;opacity:0;transform:translateY(-25%);transition:opacity .3s ease,transform .3s ease}.show .image-viewer{transform:translateY(0);opacity:1}.image-viewer .display-image{overflow:auto}.image-viewer .arrow{color:#fdfcfe;cursor:pointer;height:60px;width:60px}.image-viewer .arrow:hover{color:#ff1493}.image-viewer .arrow:before{border-style:solid;border-width:2px 2px 0 0;content:\\\"\\\";display:inline-block;height:45px;left:15px;position:relative;top:15px;transform:rotate(-45deg);vertical-align:top;width:45px}.image-viewer .arrow.right:before{left:0;margin-left:45px;transform:rotate(45deg)}.image-viewer .arrow.bottom:before{top:0;transform:rotate(135deg)}.image-viewer .arrow.left:before{left:2px;margin-right:45px;transform:rotate(-135deg)}.image-viewer .close-button{position:absolute;cursor:pointer;display:inline-block;height:50px;right:0;top:0;overflow:hidden;width:50px}.image-viewer .close-button:hover:after,.image-viewer .close-button:hover:before{background:#ff1493}.image-viewer .close-button:after,.image-viewer .close-button:before{background:#fdfcfe;content:\\\"\\\";position:absolute;height:2px;width:100%;top:50%;left:0;margin-top:-1px}.image-viewer .close-button:before{transform:rotate(45deg)}.image-viewer .close-button:after{transform:rotate(-45deg)}.image-viewer .close-button.big{transform:scale(3)}.image-grid{flex-grow:1;overflow:auto;padding-left:15px;padding-right:15px}.image-grid .grid-item{cursor:pointer}@keyframes loader{0%{transform:scale(.1);opacity:1}70%{transform:scale(1);opacity:.7}to{opacity:0}}.loader-wrapper{align-items:center;display:flex;height:300px;justify-content:center;width:300px}.loader{position:relative;transform:translateY(-25px)}.loader>div:nth-child(0){animation-delay:-.8s}.loader>div:first-child{animation-delay:-.6s}.loader>div:nth-child(2){animation-delay:-.4s}.loader>div:nth-child(3){animation-delay:-.2s}.loader>div{animation-fill-mode:both;position:absolute;top:-2px;left:-26px;width:50px;height:50px;border-radius:100%;border:2px solid #fff;animation:loader 1.25s 0s infinite cubic-bezier(.21,.53,.56,.8)}.search-bar input.search{margin:15px;border-color:rgba(0,0,0,.2);border-radius:5px;border-width:1px;font-size:16px;height:42px;line-height:16px;padding:10px 12px;width:100%}.search-bar input.search:focus{background:#fdfcfe;border-color:#ff1493;color:#ff1493;outline:0;outline:none}@media (min-width:768px){.search-bar input.search{width:25%}}*{box-sizing:border-box}body{background-color:#333;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;margin:0;overflow:hidden}.app{display:flex;flex-direction:column;height:100vh;width:100vw}.text-white{color:#fdfcfe}.text-align-center{text-align:center}.primary{color:#ff1493}.hidden{display:none!important}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader!../~/postcss-loader?{\"sourceMap\":true}!../~/sass-loader/lib/loader.js!./index.scss\n// module id = 9\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/css-loader/lib/css-base.js\n// module id = 10\n// module chunks = 0","module.exports = __webpack_public_path__ + \"index.html\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.html\n// module id = 11\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/style-loader/addStyles.js\n// module id = 12\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/postcss-loader/index.js??ref--1-2!./../node_modules/sass-loader/lib/loader.js!./index.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./../node_modules/postcss-loader/index.js??ref--1-2!./../node_modules/sass-loader/lib/loader.js!./index.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./../node_modules/postcss-loader/index.js??ref--1-2!./../node_modules/sass-loader/lib/loader.js!./index.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.scss\n// module id = 13\n// module chunks = 0","var Component = require('../Component');\nvar EventTypes = require('../../constants/EventTypes');\nvar FunctionUtil = require('../../utils/FunctionUtil');\nvar SearchBar = require('../SearchBar');\nvar ImageGrid = require('../ImageGrid');\nvar ObjectUtil = require('../../utils/ObjectUtil');\nvar PhotoStore = require('../../stores/PhotoStore');\nvar Thumbnail = require('../Thumbnail');\n\nfunction App() {\n  var imageGrid = new ImageGrid();\n  var searchBar = new SearchBar();\n  var lastQuery = '';\n\n  /* View functions */\n  var renderImageGrid = function () {};\n  function getImageGridRenderer(imageGridEl) {\n    return function renderImageGrid() {\n      imageGrid.render(imageGridEl);\n    };\n  }\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function (element, props) {\n      // Fetch new photos on input change\n      searchBar.render(element.querySelector('.search-bar'), {\n        onChange: function () {\n          // Don't re-fetch unless we have a new query\n          if (lastQuery !== this.value) {\n            PhotoStore.fetchPhotos(this.value);\n            lastQuery = this.value;\n          }\n        }\n      });\n\n      // Pass necessary properties to handlers\n      renderImageGrid = getImageGridRenderer(\n        element.querySelector('.image-grid')\n      );\n      // Re-render image grid when new photos are received\n      PhotoStore.addListener(\n        EventTypes.PHOTO_STORE_PHOTOS_CHANGE,\n        renderImageGrid\n      );\n      // Fetch photos on intial render\n      PhotoStore.fetchPhotos(lastQuery);\n    },\n\n    componentWillUnmount: function () {\n      // Never actually called, but good practise to clean up after our selves\n      PhotoStore.removeChangeListener(\n        EventTypes.PHOTO_STORE_PHOTOS_CHANGE,\n        renderImageGrid\n      );\n\n      // Reset renderer after event listener was removed\n      renderImageGrid = function () {};\n    },\n\n    getView: function () {\n      return (\n        '<div class=\"app\">' +\n          '<div class=\"search-bar\"></div>' +\n          '<div class=\"image-grid\"></div>' +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = App;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/App/App.js\n// module id = 14\n// module chunks = 0","/*\n * Example usage:\n *\n * var Component = require('../Component');\n * var ObjectUtil = require('./utils/ObjectUtil');\n *\n * module.exports = function MyComponent() {\n *   // Private scope\n *\n *   return ObjectUtil.assign(Object.create(new Component()), {\n *     componentWillMount(props) {\n *       // Do something with props before mount\n *     },\n *\n *     componentDidMount(element, props) {\n *       // Do something with element and props after mount\n *     },\n *\n *     componentWillUpdate(element, props) {\n *       // Do something with element and props before update\n *     },\n *\n *     componentDidUpdate(element, props) {\n *       // Do something with element and props on update\n *     },\n *\n *     componentWillUnmount(element, props) {\n *       // Clean up component with element and props\n *     },\n *\n *     getView(props) {\n *       // Return string of component view\n *       return (\n *         '<div>' +\n *           'Example DIV' +\n *         '</div>'\n *       );\n *     }\n *   });\n * };\n */\n\nfunction Component() {\n  // Private scope\n  var element = null;\n\n  return {\n    // Public API\n    /**\n     * Function to call when component should render into parent node\n     * Calls componentWillMount when node will be mounted\n     * Calls componentDidMount when node has mounted\n     * Calls componentWillUpdate when node will be updated\n     * Calls componentDidUpdate when node was updated\n     * @param {DOM Node} parentElement to render component within\n     * @param {Object} properties passed from render caller\n     */\n    render: function (parentElement, props) {\n      // Separate if-statement so Webpack knows to remove in production\n      if (process.env.NODE_ENV !== 'production') {\n        if (!parentElement) {\n          throw new Error('Parent of type: `' + typeof parentElement + '` is not valid. Please call `render` with a valid `HTMLElement`.');\n        }\n      }\n\n      // Call will mount\n      if (element == null && typeof this.componentWillMount === 'function') {\n        this.componentWillMount(props);\n      }\n\n      // Call will update\n      if (element != null && typeof this.componentWillUpdate === 'function') {\n        this.componentWillUpdate(element, props);\n      }\n\n      // Create temporary node to set innerHTML in\n      var tempNode = global.document.createElement('div');\n      tempNode.innerHTML = this.getView(props);\n      // Get the first child of temporary node, i.e. our view and\n      // store our new instance, and this before we get the view\n      var newElement = tempNode.firstChild;\n\n      // Rendering into new parent, unmount this element, so we can create a new\n      if (element != null && parentElement !== element.parentNode) {\n        this.unmount(element, props);\n      }\n      // Make sure that element is actually a child node of parent\n      // before we attempt to replace\n      if (element != null && parentElement === element.parentNode) {\n        // Handle consecutive renders\n        /*\n         * Replace this line with:\n         * `dd.apply(element, dd.diff(element, element));`\n         * from https://github.com/fiduswriter/diffDOM to create a mini version\n         * of React\n         */\n        parentElement.replaceChild(newElement, element);\n      }\n\n      if (element == null) {\n        // Handle first render\n        parentElement.appendChild(newElement);\n      }\n      // Store reference to element to be removed\n      var oldElement = element;\n      element = newElement;\n\n      // Call did mount\n      if (oldElement == null && typeof this.componentDidMount === 'function') {\n        this.componentDidMount(element, props);\n      }\n\n      // Call did update\n      if (oldElement != null && typeof this.componentDidUpdate === 'function') {\n        this.componentDidUpdate(element, props);\n      }\n    },\n\n    /**\n     * Unmounts element from its parent, if it has a parent. Calls\n     * componentWillUnmount if defined on object.\n     */\n    unmount: function () {\n      // Component was already unmounted\n      if (element == null) {\n        return;\n      }\n\n      if (typeof this.componentWillUnmount === 'function') {\n        this.componentWillUnmount(element);\n      }\n\n      // Check if child still has a parent node before attempting to remove\n      if (element && element.parentNode) {\n        element.parentNode.removeChild(element);\n      }\n\n      // Reset reference\n      element = null;\n    },\n\n    /**\n     * Produces view declaration in the form of a string\n     * @param  {Object} props properties passed to Component in `render`\n     * @return {String} view declaration to render in DOM\n     */\n    getView: function (props) {\n      // Separate if-statement so Webpack knows to remove in production\n      if (process.env.NODE_ENV !== 'production') {\n        throw new Error(typeof this + ' does not implement `getView`, but extends from Component. All objects that extends Component must implement `getView`');\n      }\n\n      return '';\n    }\n  };\n}\n\nmodule.exports = Component;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Component/Component.js\n// module id = 15\n// module chunks = 0","var Component = require('../Component');\nvar ObjectUtil = require('../../utils/ObjectUtil');\n\nfunction Image() {\n  return ObjectUtil.assign(Object.create(new Component()), {\n    getView: function (props) {\n      var src = props.src;\n      if (!src) {\n        return '';\n      }\n\n      return (\n        '<img src=\"' + src + '\" />'\n      );\n    }\n  });\n}\n\nmodule.exports = Image;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Image/Image.js\n// module id = 16\n// module chunks = 0","var Image = require('./Image');\n\nmodule.exports = Image;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Image/index.js\n// module id = 17\n// module chunks = 0","var Component = require('../../components/Component');\nvar ComponentUtil = require('../../utils/ComponentUtil');\nvar EventEmitter = require('../../events/EventEmitter');\nvar EventTypes = require('../../constants/EventTypes');\nvar ImageViewer = require('../../components/ImageViewer');\nvar ObjectUtil = require('../../utils/ObjectUtil');\nvar PhotoStore = require('../../stores/PhotoStore');\nvar Thumbnail = require('../../components/Thumbnail');\n\nfunction ImageGrid() {\n  var imageViewer = new ImageViewer();\n  var shouldAnimateIn = true;\n  var selectedImageIndex;\n\n  /* Event handlers */\n  var handleRenderSelectedImage = function () {};\n\n  function handleImageClick(event) {\n    var node = event.target;\n    // Walk up dom tree to first element from event.target with `data-index`,\n    // stop if we reach the image grid node\n    while (node.getAttribute('data-index') == null && node !== this) {\n      node = node.parentNode;\n    }\n    var index = parseInt(node.getAttribute('data-index'), 10);\n    if (!isNaN(index)) {\n      shouldAnimateIn = true;\n      selectedImageIndex = index;\n      handleRenderSelectedImage();\n    }\n  }\n\n  function handleImageViewerClose() {\n    shouldAnimateIn = true;\n    selectedImageIndex = undefined;\n    handleRenderSelectedImage();\n  }\n\n  function handleImageViewerLeftClick(event) {\n    var photos = PhotoStore.getPhotos();\n    // Should do nothing if there are no photos\n    if (!photos) {\n      return;\n    }\n\n    if (--selectedImageIndex < 0) {\n      selectedImageIndex = photos.length - 1;\n    }\n\n    shouldAnimateIn = false;\n    handleRenderSelectedImage();\n  }\n\n  function handleImageViewerRightClick(event) {\n    var photos = PhotoStore.getPhotos();\n    // Should do nothing if there are no photos\n    if (!photos) {\n      return;\n    }\n\n    // Add before the modulus operator and use modulus as a circular buffer\n    selectedImageIndex = ++selectedImageIndex % photos.length;\n    shouldAnimateIn = false;\n    handleRenderSelectedImage();\n  }\n\n  /* View functions */\n  function renderPhotoGrid(imageGridElm, props) {\n    var components = PhotoStore.getPhotos().map(function (props, index) {\n      return function renderThumbnail(element) {\n        new Thumbnail().render(element, ObjectUtil.assign({}, props, {\n          className: 'grid-item',\n          index: index\n        }));\n      };\n    });\n\n    ComponentUtil.renderMultiple(components, imageGridElm)\n  }\n\n  function renderSelectedImage(selectedImageElm) {\n    var photos = PhotoStore.getPhotos();\n    if (!photos.length) {\n      return;\n    }\n\n    var selectedChild = photos[selectedImageIndex];\n    if (!selectedChild) {\n      imageViewer.unmount();\n\n      return;\n    }\n\n    imageViewer.render(selectedImageElm, {\n      backdropClose: true,\n      onLeftClick: handleImageViewerLeftClick,\n      onRightClick: handleImageViewerRightClick,\n      onClose: handleImageViewerClose,\n      child: selectedChild,\n      shouldAnimateIn: shouldAnimateIn\n    });\n  }\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function () {\n      this.componentDidUpdate.apply(this, arguments);\n    },\n\n    componentWillUpdate: function (element, props) {\n      // Clean up element listeners\n      var imageGridElm = element.querySelector('.grid');\n      imageGridElm.removeEventListener('click', handleImageClick, false);\n      // Reset handler after event listener was removed\n      var handleRenderSelectedImage = function () {};\n    },\n\n    componentDidUpdate: function (element, props) {\n      var selectedImageElm = element.querySelector('.selected-image');\n      var imageGridElm = element.querySelector('.grid');\n\n      // Create new handler for when prop functions gets called\n      handleRenderSelectedImage = function () {\n        renderSelectedImage(selectedImageElm);\n      };\n\n      // Re-attach element click listener to grid, to only listen\n      // for clicks within its children, and not, e.g. image viewer\n      imageGridElm.addEventListener('click', handleImageClick, false);\n      renderPhotoGrid(imageGridElm, props);\n    },\n\n    componentWillUnmount: function (element) {\n      // Clean up element listeners\n      var imageGridElm = element.querySelector('.grid');\n      imageGridElm.removeEventListener('click', handleImageClick, false);\n      // Reset handler after event listener was removed\n      var handleRenderSelectedImage = function () {};\n    },\n\n    getView: function () {\n      var noImagesMessage = '';\n      if (!PhotoStore.getPhotos().length) {\n        noImagesMessage = (\n          '<p class=\"text-align-center primary\">' +\n            'Sorry, no images was found from that search. ' +\n            'Please try another search.' +\n          '</p>'\n        );\n      }\n\n      return (\n        '<div>' +\n          noImagesMessage +\n          '<div class=\"grid grid--1of4\"></div>' +\n          '<div class=\"selected-image\"></div>' +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = ImageGrid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/ImageGrid/ImageGrid.js\n// module id = 18\n// module chunks = 0","var ImageGrid = require('./ImageGrid');\n\nmodule.exports = ImageGrid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/ImageGrid/index.js\n// module id = 19\n// module chunks = 0","var Component = require('../Component');\nvar Image = require('../Image');\nvar EventTypes = require('../../constants/EventTypes');\nvar PhotoStore = require('../../stores/PhotoStore');\nvar KeyboardUtil = require('../../utils/KeyboardUtil');\nvar ObjectUtil = require('../../utils/ObjectUtil');\n\nvar keyCodes = KeyboardUtil.keyCodes;\n\nvar getPhotoID = function (link) {\n  var segments = link.split('/');\n  var id = segments.pop()\n  while (!id) {\n    id = segments.pop();\n  }\n\n  return id;\n};\n\nfunction ImageViewer() {\n  var image = new Image();\n  var photoID;\n  var imageProps;\n\n  /* Event handlers */\n  var handleImageEvent = function () {};\n  function getImageEventHandler(element, props) {\n    var onLeftClick = props.onLeftClick;\n    var onRightClick = props.onRightClick;\n    var onClose = props.onClose;\n\n    // Return handler for event\n    return function handleImageEvent(event) {\n      var keyCode = event.keyCode;\n      var direction = event.target.getAttribute('data-direction');\n      var close = event.target.getAttribute('data-close');\n\n      // Handle change image left\n      if (typeof onLeftClick === 'function' && direction === 'left' ||\n        keyCode === keyCodes.leftArrow) {\n        onLeftClick(event);\n      }\n\n      // Handle change image right\n      if (typeof onRightClick === 'function' && direction === 'right' ||\n        keyCode === keyCodes.rightArrow) {\n        onRightClick(event);\n      }\n\n      if (direction === 'left' || keyCode === keyCodes.leftArrow ||\n        direction === 'right' || keyCode === keyCodes.rightArrow) {\n        // Hide error message and display image\n        element.querySelector('.error-message').classList.remove('hidden');\n        element.querySelector('.display-image').classList.add('hidden');\n        // Show loader\n        element.querySelector('.loader-wrapper').classList.remove('hidden');\n      }\n\n      // Handle close viewer\n      if (close === 'true' || keyCode === keyCodes.esc) {\n        // Remove class to animate. Call close when animation is done\n        element.classList.remove('show');\n        setTimeout(function () {\n          onClose(event);\n        }, 200);\n      }\n    }\n  }\n\n  /* View functions */\n  var renderImage = function () {};\n  function getImageRenderer(element, props) {\n    return function renderImage(id) {\n      var child = props.child;\n      if (photoID !== id) {\n        return;\n      }\n      var photo = PhotoStore.getLargePhoto(photoID);\n      if (!photo || !photo.src) {\n        return;\n      }\n\n      element.querySelector('.loader-wrapper').classList.add('hidden');\n      var imageElm = element.querySelector('.display-image');\n      imageElm.classList.remove('hidden');\n\n      image.render(imageElm, {\n        src: photo.src,\n        // Transfer other information\n        title: child.title,\n        link: child.link\n      });\n    };\n  }\n\n  var renderError = function () {};\n  function getErrorRenderer(element) {\n    return function renderError(id, message) {\n      if (photoID !== id) {\n        return;\n      }\n\n      element.querySelector('.loader-wrapper').classList.add('hidden');\n      var errorElement = element.querySelector('.error-message');\n      errorElement.classList.remove('hidden');\n      errorElement.innerHTML = message || 'Image request error';\n    };\n  }\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function (element, props) {\n      this.componentDidUpdate.apply(this, arguments);\n      // Set global listeners\n      global.addEventListener('keydown', handleImageEvent, false);\n    },\n\n    componentWillUpdate: function (element) {\n      // Clean up element listeners\n      element.removeEventListener('click', handleImageEvent, false);\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE,\n        renderImage\n      );\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n        renderError\n      );\n\n      // Reset handler after event listener was removed\n      handleImageEvent = function () {};\n      // Reset renderers after event listener was removed\n      renderImage = function () {};\n      renderError = function () {};\n    },\n\n    componentDidUpdate: function (element, props) {\n      photoID = getPhotoID(props.child.link);\n\n      var onLeftClick = props.onLeftClick;\n      var onRightClick = props.onRightClick;\n      var onClose = props.onClose;\n\n      // Create new handlers for event\n      handleImageEvent = getImageEventHandler(element, props);\n      // Create new render functions\n      renderImage = getImageRenderer(element, props);\n      renderError = getErrorRenderer(element);\n\n      // Add show class in next render cycle to animate in\n      if (props.shouldAnimateIn) {\n        if (element) {\n          setTimeout(function () {\n            element.classList.add('show');\n          }, 100);\n        }\n      }\n\n      // Re-attach element listeners\n      element.addEventListener('click', handleImageEvent, false);\n      PhotoStore.addListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE,\n        renderImage\n      );\n      PhotoStore.addListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n        renderError\n      );\n\n      // Fetch large photo\n      PhotoStore.fetchLargePhoto(photoID);\n    },\n\n    componentWillUnmount: function (element) {\n      // Clean up global listeners\n      global.removeEventListener('keydown', handleImageEvent, false);\n      // Clean up element listeners\n      element.removeEventListener('click', handleImageEvent, false);\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_CHANGE,\n        renderImage\n      );\n      PhotoStore.removeListener(\n        EventTypes.PHOTO_STORE_SINGLE_PHOTO_ERROR,\n        renderError\n      );\n\n      // Reset handler after event listener was removed\n      handleImageEvent = function () {};\n      // Reset renderers after event listener was removed\n      renderImage = function () {};\n      renderError = function () {};\n    },\n\n    getView: function (props) {\n      var backdropClose = props.backdropClose;\n      var child = props.child;\n      var shouldAnimateIn = props.shouldAnimateIn;\n\n      var dataClose = '';\n      if (backdropClose) {\n        dataClose = 'data-close=\"true\"';\n      }\n\n      var imageViewerBackdropClasses = 'image-viewer-backdrop';\n      if (!shouldAnimateIn) {\n        imageViewerBackdropClasses += ' show';\n      }\n\n      var title = '';\n      if (child && child.title) {\n        title = (\n          '<p class=\"title text-white text-align-center\">' +\n            child.title +\n          '<p/>'\n        );\n      }\n\n      return (\n        '<div ' + dataClose + ' class=\"' + imageViewerBackdropClasses +'\">' +\n          '<div class=\"image-viewer\">' +\n            '<span data-close=\"true\" class=\"close-button\"></span>' +\n            '<div class=\"loader-wrapper\">' +\n              '<div class=\"loader\">' +\n                '<div></div>' +\n                '<div></div>' +\n                '<div></div>' +\n              '</div>' +\n            '</div>' +\n            '<p class=\"error-message primary hidden\"></p>' +\n            '<div class=\"display-image hidden\"></div>' +\n            title +\n            '<div class=\"arrow-container\">' +\n              '<span data-direction=\"left\" class=\"arrow left\"></span>' +\n              '<span data-direction=\"right\" class=\"arrow right\"></span>' +\n            '</div>' +\n          '</div>' +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = ImageViewer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/ImageViewer/ImageViewer.js\n// module id = 20\n// module chunks = 0","var ImageViewer = require('./ImageViewer');\n\nmodule.exports = ImageViewer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/ImageViewer/index.js\n// module id = 21\n// module chunks = 0","var Component = require('../../components/Component');\nvar FunctionUtil = require('../../utils/FunctionUtil');\nvar ObjectUtil = require('../../utils/ObjectUtil');\n\nfunction SearchBar() {\n  var onChange;\n\n  return ObjectUtil.assign(Object.create(new Component()), {\n    /* Lifecycle methods */\n    componentDidMount: function () {\n      this.componentDidUpdate.apply(this, arguments);\n    },\n\n    componentDidUpdate: function (element) {\n      // Clean up element listeners\n      element.removeEventListener('input', onChange, false);\n    },\n\n    componentDidUpdate: function (element, props) {\n      // Default to 100 miliseconds. A good time for responsive behaviour\n      var wait = props.wait || 100;\n      // Debounce requests on input, so we only request when typing stops\n      onChange = FunctionUtil.debounce(props.onChange, 100);\n      // Set element listers on input change\n      element.addEventListener('input', onChange, false);\n    },\n\n    componentWillUnmount: function (element) {\n      // Clean up element listeners\n      element.removeEventListener('input', onChange, false);\n    },\n\n    /* View functions */\n    getView: function (props) {\n      if (typeof props.onChange !== 'function') {\n        throw new Error(\n          'SearchBar needs onChange as a function. Type \"' +\n          typeof props.onChange +\n          '\" was given.'\n        );\n      }\n\n      return (\n        '<input placeholder=\"search\" autofocus=\"true\" class=\"search\" />'\n      );\n    }\n  });\n}\n\nmodule.exports = SearchBar;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/SearchBar/SearchBar.js\n// module id = 22\n// module chunks = 0","var SearchBar = require('./SearchBar');\n\nmodule.exports = SearchBar;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/SearchBar/index.js\n// module id = 23\n// module chunks = 0","var Component = require('../Component');\nvar ObjectUtil = require('../../utils/ObjectUtil');\n\nfunction Thumbnail() {\n  return ObjectUtil.assign(Object.create(new Component()), {\n    getView: function (props) {\n      var className = props.className;\n      var index = props.index;\n      var src = props.src;\n      var title = props.title;\n\n      if (!src) {\n        return '';\n      }\n      var classes = 'thumbnail';\n      if (className) {\n        classes += ' ' + className;\n      }\n\n      var dataIndex = '';\n      if (index != null) {\n        dataIndex = 'data-index=\"' + index + '\" '\n      }\n\n      var titleElm = '';\n      if (title) {\n        titleElm = '<p class=\"title\">' + title + '</p>';\n      }\n\n      return (\n        '<div class=\"' + classes + '\"' + dataIndex + '>' +\n          '<div ' +\n            'class=\"fill-image\" ' +\n            'data-src=\"' + src + '\" ' +\n            'style=\"background-image: url(' + src + ')\">' +\n          '</div>' +\n          titleElm +\n        '</div>'\n      );\n    }\n  });\n}\n\nmodule.exports = Thumbnail;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/Thumbnail/Thumbnail.js\n// module id = 24\n// module chunks = 0","var ComponentUtil = {\n  /**\n   * Renders mulitple components into one element using a DocumentFragment\n   * @param  {Array<Function>} renderList list of render functions to get called\n   * iteratively with DocumentFragment to be rendered in\n   * @param  {HTMLElement} element to render list in\n   */\n  renderMultiple: function (renderList, element) {\n    var docFrag = global.document.createDocumentFragment();\n    renderList.forEach(function (render, index) {\n      // Separate if-statement so Webpack knows to remove in production\n      if (process.env.NODE_ENV !== 'production') {\n        if (typeof render !== 'function') {\n          throw new Error('Render item number ' + index + ' in list was not a function. Please provide a function for each item in list to render.');\n        }\n      }\n\n      render(docFrag, index);\n    });\n\n    element.appendChild(docFrag);\n  }\n};\n\nmodule.exports = ComponentUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/ComponentUtil.js\n// module id = 25\n// module chunks = 0","var KeyboardUtil = {\n  keyCodes: {\n    esc: 27,\n    leftArrow: 37,\n    rightArrow: 39\n  }\n};\n\nmodule.exports = KeyboardUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/KeyboardUtil.js\n// module id = 26\n// module chunks = 0","var onGoingRequests = {};\nvar RequestUtil = {\n  /**\n   * Makes a request by adding a script tag to the body element with the src\n   * attribute as the request url\n   * @param  {String} url to request\n   * @param  {String} callbackName name of callback\n   * @param  {Function} callback to be called when request returns\n   */\n  jsonp: function (url, callbackName, callback) {\n    var script = global.document.createElement('script');\n    script.setAttribute('src', url + '&jsoncallback=' + callbackName);\n    // Clean up after script\n    script.onload = function () {\n      global.document.body.removeChild(script);\n    }\n\n    global[callbackName] = function (data) {\n      onGoingRequests[callbackName]--;\n      if (onGoingRequests[callbackName] === 0) {\n        delete onGoingRequests[callbackName];\n      }\n      // Clean up after callback, if we are the last call waiting\n      if (onGoingRequests === 0) {\n        delete global[callbackName];\n      }\n      callback(data);\n    };\n\n    // TODO: Should really clear ongoing requests as we are firing a new one to\n    // override it. This will be fixed by not using jsonp\n    if (onGoingRequests[callbackName] === undefined) {\n      onGoingRequests[callbackName] = 0;\n    }\n\n    onGoingRequests[callbackName]++;\n    global.document.body.appendChild(script);\n  }\n};\n\nmodule.exports = RequestUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./utils/RequestUtil.js\n// module id = 27\n// module chunks = 0"],"sourceRoot":""}